"use strict";(self.webpackChunkchart_demo=self.webpackChunkchart_demo||[]).push([[97],{97:(Uc,Ni,b)=>{b.r(Ni),b.d(Ni,{DrillDownModule:()=>jc});var x=b(6895),Ii=b(8017);const Io=[{code:"1s",title:"1 Second"},{code:"1m",title:"1 Minute"},{code:"3m",title:"3 Minutes"},{code:"5m",title:"5 Minutes"},{code:"15m",title:"15 Minutes"},{code:"30m",title:"30 Minutes"},{code:"1h",title:"1 Hour"},{code:"2h",title:"2 Hours"},{code:"4h",title:"4 Hours"},{code:"6h",title:"6 Hours"},{code:"8h",title:"8 Hours"},{code:"12h",title:"12 Hours"},{code:"1d",title:"1 Day"},{code:"3d",title:"3 Days"},{code:"1w",title:"1 Week"},{code:"1M",title:"1 Month"}];var a=b(1571),M=b(1281),St=b(9751),B=b(7579),zo=b(8372);let zi=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Go=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=(0,M.fI)(e);return new St.y(r=>{const s=this._observeElement(n).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new B.x,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zi))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ho=(()=>{class i{constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,M.Ig)(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=(0,M.su)(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,zo.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Go),a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Yo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[zi]}),i})();var k=b(3238),nt=b(445),Dt=b(6451),Re=b(8421),Wo=b(5577),jo=b(1144),rt=b(576),Pe=b(3268);const Xo=["addListener","removeListener"],Uo=["addEventListener","removeEventListener"],Zo=["on","off"];function Ut(i,t,e,n){if((0,rt.m)(e)&&(n=e,e=void 0),n)return Ut(i,t,e).pipe((0,Pe.Z)(n));const[r,o]=function $o(i){return(0,rt.m)(i.addEventListener)&&(0,rt.m)(i.removeEventListener)}(i)?Uo.map(s=>l=>i[s](t,l,e)):function qo(i){return(0,rt.m)(i.addListener)&&(0,rt.m)(i.removeListener)}(i)?Xo.map(Gi(i,t)):function Jo(i){return(0,rt.m)(i.on)&&(0,rt.m)(i.off)}(i)?Zo.map(Gi(i,t)):[];if(!r&&(0,jo.z)(i))return(0,Wo.z)(s=>Ut(s,t,e))((0,Re.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new St.y(s=>{const l=(...h)=>s.next(1<h.length?h:h[0]);return r(l),()=>o(l)})}function Gi(i,t){return e=>n=>i[e](t,n)}var xt=b(8675),I=b(2722),Ot=b(5698),O=b(7340),Y=b(3353);const Ko=["connectionContainer"],Qo=["inputContainer"],ts=["label"];function es(i,t){1&i&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function is(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&i){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function ns(i,t){if(1&i&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&i){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function rs(i,t){1&i&&a.Hsn(0,3,["*ngSwitchCase","true"])}function os(i,t){1&i&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function ss(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,ns,4,1,"ng-container",12),a.YNc(3,rs,1,0,"ng-content",12),a.YNc(4,os,2,0,"span",22),a.qZA()}if(2&i){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function as(i,t){1&i&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function ls(i,t){if(1&i&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function hs(i,t){if(1&i&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function cs(i,t){if(1&i&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function us(i,t){if(1&i&&(a.TgZ(0,"div",27),a.YNc(1,cs,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const ds=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fs=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ps=new a.OlP("MatError"),ms={transitionMessages:(0,O.X$)("transitionMessages",[(0,O.SB)("enter",(0,O.oB)({opacity:1,transform:"translateY(0%)"})),(0,O.eR)("void => enter",[(0,O.oB)({opacity:0,transform:"translateY(-5px)"}),(0,O.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Be=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i}),i})();const gs=new a.OlP("MatHint");let Te=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-label"]]}),i})(),vs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const _s=new a.OlP("MatPrefix"),ys=new a.OlP("MatSuffix");let Hi=0;const ws=(0,k.pj)(class{constructor(i){this._elementRef=i}},"primary"),Cs=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Wi=new a.OlP("MatFormField");let Ms=(()=>{class i extends ws{constructor(e,n,r,o,s,l,h){super(e),this._changeDetectorRef=n,this._dir=r,this._defaults=o,this._platform=s,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new B.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Hi++,this._labelId="mat-form-field-label-"+Hi++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&n!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,M.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,xt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,I.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Dt.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,xt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,xt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,I.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ut(this._label.nativeElement,"transitionend").pipe((0,Ot.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,n=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const c=n.querySelectorAll(`${r}, ${o}`);for(let d=0;d<c.length;d++)c[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,l=0;const h=n.querySelectorAll(r),u=n.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const c=n.getBoundingClientRect();if(0===c.width&&0===c.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(c),f=e.children,p=this._getStartEnd(f[0].getBoundingClientRect());let m=0;for(let g=0;g<f.length;g++)m+=f[g].offsetWidth;s=Math.abs(p-d)-5,l=m>0?.75*m+10:0}for(let c=0;c<h.length;c++)h[c].style.width=`${s}px`;for(let c=0;c<u.length;c++)u[c].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(nt.Is,8),a.Y36(Cs,8),a.Y36(Y.t4),a.Y36(a.R0b),a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,r){if(1&e&&(a.Suo(r,Be,5),a.Suo(r,Be,7),a.Suo(r,Te,5),a.Suo(r,Te,7),a.Suo(r,vs,5),a.Suo(r,ps,5),a.Suo(r,gs,5),a.Suo(r,_s,5),a.Suo(r,ys,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._controlNonStatic=o.first),a.iGM(o=a.CRH())&&(n._controlStatic=o.first),a.iGM(o=a.CRH())&&(n._labelChildNonStatic=o.first),a.iGM(o=a.CRH())&&(n._labelChildStatic=o.first),a.iGM(o=a.CRH())&&(n._placeholderChild=o.first),a.iGM(o=a.CRH())&&(n._errorChildren=o),a.iGM(o=a.CRH())&&(n._hintChildren=o),a.iGM(o=a.CRH())&&(n._prefixChildren=o),a.iGM(o=a.CRH())&&(n._suffixChildren=o)}},viewQuery:function(e,n){if(1&e&&(a.Gf(Ko,7),a.Gf(Qo,5),a.Gf(ts,5)),2&e){let r;a.iGM(r=a.CRH())&&(n._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(n._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(n._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,n){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Wi,useExisting:i}]),a.qOj],ngContentSelectors:fs,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,n){1&e&&(a.F$t(ds),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(o){return n._control.onContainerClick&&n._control.onContainerClick(o)}),a.YNc(3,es,9,0,"ng-container",3),a.YNc(4,is,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,ss,5,16,"label",8),a.qZA()(),a.YNc(10,as,2,0,"div",9),a.qZA(),a.YNc(11,ls,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,hs,2,1,"div",12),a.YNc(14,us,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==n.appearance),a.xp6(1),a.Q6J("ngIf",n._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",n._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",n._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=n.appearance),a.xp6(1),a.Q6J("ngSwitch",n._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[x.O5,x.RF,x.n9,Ho],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[ms.transitionMessages]},changeDetection:0}),i})(),Ss=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[x.ez,k.BQ,Yo,k.BQ]}),i})();var Ds=b(9646),ji=b(4408),ot=b(727);const Et={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Et;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new ot.w0(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=Et;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Et;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var Xi=b(7565);new class Os extends Xi.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class xs extends ji.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Et.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Et.cancelAnimationFrame(e),t._scheduled=void 0)}});let Le,ks=1;const Zt={};function Ui(i){return i in Zt&&(delete Zt[i],!0)}const Vs={setImmediate(i){const t=ks++;return Zt[t]=!0,Le||(Le=Promise.resolve()),Le.then(()=>Ui(t)&&i()),t},clearImmediate(i){Ui(i)}},{setImmediate:Fs,clearImmediate:As}=Vs,qt={setImmediate(...i){const{delegate:t}=qt;return(t?.setImmediate||Fs)(...i)},clearImmediate(i){const{delegate:t}=qt;return(t?.clearImmediate||As)(i)},delegate:void 0};new class Ps extends Xi.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Rs extends ji.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=qt.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(qt.clearImmediate(e),t._scheduled=void 0)}});var Zi=b(4986),Ne=b(4482),Jt=b(5403),Ls=b(3532);function qi(i,t=Zi.z){return function Ts(i){return(0,Ne.e)((t,e)=>{let n=!1,r=null,o=null,s=!1;const l=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const u=r;r=null,e.next(u)}s&&e.complete()},h=()=>{o=null,s&&e.complete()};t.subscribe((0,Jt.x)(e,u=>{n=!0,r=u,o||(0,Re.Xf)(i(u)).subscribe(o=(0,Jt.x)(e,l,h))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>function Is(i=0,t,e=Zi.P){let n=-1;return null!=t&&((0,Ls.K)(t)?e=t:n=t),new St.y(r=>{let o=function Ns(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,t))}var $t=b(9300);let Gs=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new B.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new St.y(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(qi(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ds.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe((0,$t.h)(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=(0,M.fI)(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ut(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b),a.LFG(Y.t4),a.LFG(x.K0,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ie=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new B.x,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qi(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Y.t4),a.LFG(a.R0b),a.LFG(x.K0,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ze=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),Ji=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[nt.vT,ze,nt.vT,ze]}),i})();class Ge{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ys extends Ge{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class $i extends Ge{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ws extends Ge{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class Xs extends class js{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ys?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $i?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ws?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const l=s.element,h=this._document.createComment("dom-portal");l.parentNode.insertBefore(h,l),this.outletElement.appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Us=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();var Zs=b(2529),T=b(9521);const Ki=(0,Y.Mq)();class qs{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=(0,M.HM)(-this._previousScrollPosition.left),t.style.top=(0,M.HM)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ki&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ki&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class Js{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Qi{enable(){}disable(){}attach(){}}function He(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function tn(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class $s{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();He(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ks=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Qi,this.close=s=>new Js(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new qs(this._viewportRuler,this._document),this.reposition=s=>new $s(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Gs),a.LFG(Ie),a.LFG(a.R0b),a.LFG(x.K0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class en{constructor(t){if(this.scrollStrategy=new Qi,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Qs{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nn=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(x.K0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ta=(()=>{class i extends nn{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(x.K0),a.LFG(a.R0b,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ea=(()=>{class i extends nn{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=(0,Y.sA)(o)},this._clickListener=o=>{const s=(0,Y.sA)(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let u=h.length-1;u>-1;u--){const c=h[u];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(c.overlayElement.contains(s)||c.overlayElement.contains(l))break;const d=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(x.K0),a.LFG(Y.t4),a.LFG(a.R0b,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rn=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,Y.Oy)()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),(0,Y.Oy)()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(x.K0),a.LFG(Y.t4))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ia{constructor(t,e,n,r,o,s,l,h,u,c=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=h,this._outsideClickDispatcher=u,this._animationsDisabled=c,this._backdropElement=null,this._backdropClick=new B.x,this._attachments=new B.x,this._detachments=new B.x,this._locationChanges=ot.w0.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new B.x,this._outsidePointerEvents=new B.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ot.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=(0,M.HM)(this._config.width),t.height=(0,M.HM)(this._config.height),t.minWidth=(0,M.HM)(this._config.minWidth),t.minHeight=(0,M.HM)(this._config.minHeight),t.maxWidth=(0,M.HM)(this._config.maxWidth),t.maxHeight=(0,M.HM)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=(0,M.Eq)(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,I.R)((0,Dt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const on="cdk-overlay-connected-position-bounding-box",na=/([A-Za-z%]+)$/;class ra{constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.x,this._resizeSubscription=ot.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(on),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let l of this._preferredPositions){let h=this._getOriginPoint(t,r,l),u=this._getOverlayPoint(h,e,l),c=this._getOverlayFit(u,e,n,l);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,h);this._canFitWithFlexibleDimensions(c,u,n)?o.push({position:l,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,l)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:u,originPoint:h,position:l,overlayRect:e})}if(o.length){let l=null,h=-1;for(const u of o){const c=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);c>h&&(h=c,l=u)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&st(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(on),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==n.originX?s:l}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=an(e);let{x:s,y:l}=t,h=this._getOffset(r,"x"),u=this._getOffset(r,"y");h&&(s+=h),u&&(l+=u);let f=0-l,p=l+o.height-n.height,m=this._subtractOverflows(o.width,0-s,s+o.width-n.width),g=this._subtractOverflows(o.height,f,p),v=m*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=sn(this._overlayRef.getConfig().minHeight),l=sn(this._overlayRef.getConfig().minWidth),u=t.fitsInViewportHorizontally||null!=l&&l<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&u}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=an(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),l=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0);let c=0,d=0;return c=r.width<=o.width?u||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,d=r.height<=o.height?h||-l:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:c,y:d},{x:t.x+c,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new Qs(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,s,l,c,d,f;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)l=n.height-t.y+2*this._viewportMargin,o=n.height-l+this._viewportMargin;else{const p=Math.min(n.bottom-t.y+n.top,t.y),m=this._lastBoundingBoxSize.height;o=2*p,s=t.y-p,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)f=n.width-t.x+this._viewportMargin,c=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,c=n.right-t.x;else{const p=Math.min(n.right-t.x+n.left,t.x),m=this._lastBoundingBoxSize.width;c=2*p,d=t.x-p,c>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:s,left:d,bottom:l,right:f,width:c,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=(0,M.HM)(n.height),r.top=(0,M.HM)(n.top),r.bottom=(0,M.HM)(n.bottom),r.width=(0,M.HM)(n.width),r.left=(0,M.HM)(n.left),r.right=(0,M.HM)(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=(0,M.HM)(o)),s&&(r.maxWidth=(0,M.HM)(s))}this._lastBoundingBoxSize=n,st(this._boundingBox.style,r)}_resetBoundingBoxStyles(){st(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){st(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const c=this._viewportRuler.getViewportScrollPosition();st(n,this._getExactOverlayY(e,t,c)),st(n,this._getExactOverlayX(e,t,c))}else n.position="static";let l="",h=this._getOffset(e,"x"),u=this._getOffset(e,"y");h&&(l+=`translateX(${h}px) `),u&&(l+=`translateY(${u}px)`),n.transform=l.trim(),s.maxHeight&&(r?n.maxHeight=(0,M.HM)(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=(0,M.HM)(s.maxWidth):o&&(n.maxWidth="")),st(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=(0,M.HM)(o.y),r}_getExactOverlayX(t,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=(0,M.HM)(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tn(t,n),isOriginOutsideView:He(t,n),isOverlayClipped:tn(e,n),isOverlayOutsideView:He(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&(0,M.Eq)(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function st(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function sn(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(na);return e&&"px"!==e?null:parseFloat(t)}return i||null}function an(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const ln="cdk-global-overlay-wrapper";class oa{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ln),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,h=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==o&&"100vh"!==o||l&&"100%"!==l&&"100vh"!==l),c=this._xPosition,d=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let p="",m="",g="";h?g="flex-start":"center"===c?(g="center",f?m=d:p=d):f?"left"===c||"end"===c?(g="flex-end",p=d):("right"===c||"start"===c)&&(g="flex-start",m=d):"left"===c||"start"===c?(g="flex-start",p=d):("right"===c||"end"===c)&&(g="flex-end",m=d),t.position=this._cssPosition,t.marginLeft=h?"0":p,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":m,e.justifyContent=g,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ln),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let sa=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new oa}flexibleConnectedTo(e){return new ra(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Ie),a.LFG(x.K0),a.LFG(Y.t4),a.LFG(rn))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),aa=0,Kt=(()=>{class i{constructor(e,n,r,o,s,l,h,u,c,d,f,p){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=l,this._ngZone=h,this._document=u,this._directionality=c,this._location=d,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new en(e);return s.direction=s.direction||this._directionality.value,new ia(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+aa++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new Xs(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Ks),a.LFG(rn),a.LFG(a._Vd),a.LFG(sa),a.LFG(ta),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(x.K0),a.LFG(nt.Is),a.LFG(x.Ye),a.LFG(ea),a.LFG(a.QbO,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const la=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],hn=new a.OlP("cdk-connected-overlay-scroll-strategy");let cn=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),un=(()=>{class i{constructor(e,n,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ot.w0.EMPTY,this._attachSubscription=ot.w0.EMPTY,this._detachSubscription=ot.w0.EMPTY,this._positionSubscription=ot.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new $i(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,M.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,M.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,M.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,M.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,M.Ig)(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=la);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===T.hY&&!this.disableClose&&!(0,T.Vb)(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new en({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof cn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Zs.o)(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Kt),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(hn),a.Y36(nt.Is,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),i})();const ca={provide:hn,deps:[Kt],useFactory:function ha(i){return()=>i.scrollStrategies.reposition()}};let ua=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Kt,ca],imports:[nt.vT,Us,Ji,Ji]}),i})();var dn=b(7253);class da{constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new B.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}var fa=b(2076),pa=b(4742),fn=b(3269),ma=b(1810),kt=b(4004);function tt(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function gn(i){return null!=i&&"number"==typeof i.length}const P=new a.OlP("NgValidators"),et=new a.OlP("NgAsyncValidators"),Ca=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ma{static min(t){return function vn(i){return t=>{if(tt(t.value)||tt(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function _n(i){return t=>{if(tt(t.value)||tt(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function yn(i){return tt(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function bn(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function wn(i){return tt(i.value)||Ca.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function Cn(i){return t=>tt(t.value)||!gn(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Mn(i){return t=>gn(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Sn(i){if(!i)return Qt;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(tt(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Vn(t)}static composeAsync(t){return Fn(t)}}function Qt(i){return null}function Dn(i){return null!=i}function xn(i){return(0,a.QGY)(i)?(0,fa.D)(i):i}function On(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function En(i,t){return t.map(e=>e(i))}function kn(i){return i.map(t=>function Sa(i){return!i.validate}(t)?t:e=>t.validate(e))}function Vn(i){if(!i)return null;const t=i.filter(Dn);return 0==t.length?null:function(e){return On(En(e,t))}}function We(i){return null!=i?Vn(kn(i)):null}function Fn(i){if(!i)return null;const t=i.filter(Dn);return 0==t.length?null:function(e){return function ga(...i){const t=(0,fn.jO)(i),{args:e,keys:n}=(0,pa.D)(i),r=new St.y(o=>{const{length:s}=e;if(!s)return void o.complete();const l=new Array(s);let h=s,u=s;for(let c=0;c<s;c++){let d=!1;(0,Re.Xf)(e[c]).subscribe((0,Jt.x)(o,f=>{d||(d=!0,u--),l[c]=f},()=>h--,void 0,()=>{(!h||!d)&&(u||o.next(n?(0,ma.n)(n,l):l),o.complete())}))}});return t?r.pipe((0,Pe.Z)(t)):r}(En(e,t).map(xn)).pipe((0,kt.U)(On))}}function je(i){return null!=i?Fn(kn(i)):null}function An(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Rn(i){return i._rawValidators}function Pn(i){return i._rawAsyncValidators}function Xe(i){return i?Array.isArray(i)?i:[i]:[]}function te(i,t){return Array.isArray(i)?i.includes(t):i===t}function Bn(i,t){const e=Xe(t);return Xe(i).forEach(r=>{te(e,r)||e.push(r)}),e}function Tn(i,t){return Xe(t).filter(e=>!te(i,e))}class Ln{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=We(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class L extends Ln{get formDirective(){return null}get path(){return null}}class J extends Ln{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Vt="VALID",ie="INVALID",ft="PENDING",Ft="DISABLED";function Je(i){return(ne(i)?i.validators:i)||null}function zn(i){return Array.isArray(i)?We(i):i||null}function $e(i,t){return(ne(t)?t.asyncValidators:i)||null}function Gn(i){return Array.isArray(i)?je(i):i||null}function ne(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Wn{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=zn(this._rawValidators),this._composedAsyncValidatorFn=Gn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vt}get invalid(){return this.status===ie}get pending(){return this.status==ft}get disabled(){return this.status===Ft}get enabled(){return this.status!==Ft}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=zn(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Gn(t)}addValidators(t){this.setValidators(Bn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Bn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Tn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Tn(t,this._rawAsyncValidators))}hasValidator(t){return te(this._rawValidators,t)}hasAsyncValidator(t){return te(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ft,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ft,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vt,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vt||this.status===ft)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ft:Vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ft,this._hasOwnPendingAsyncValidator=!0;const e=xn(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ft:this.errors?ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ft)?ft:this._anyControlsHaveStatus(ie)?ie:Vt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ne(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Ke extends Wn{constructor(t,e,n){super(Je(e),$e(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Yn(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function Hn(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new a.vHH(1e3,"");if(!n[e])throw new a.vHH(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function At(i,t){Qe(i,t),t.valueAccessor.writeValue(i.value),i.disabled&&t.valueAccessor.setDisabledState?.(!0),function Ba(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&jn(i,t)})}(i,t),function La(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Ta(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&jn(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function Pa(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function oe(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),ae(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function se(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Qe(i,t){const e=Rn(i);null!==t.validator?i.setValidators(An(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=Pn(i);null!==t.asyncValidator?i.setAsyncValidators(An(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();se(t._rawValidators,r),se(t._rawAsyncValidators,r)}function ae(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=Rn(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=Pn(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return se(t._rawValidators,n),se(t._rawAsyncValidators,n),e}function jn(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Xn(i,t){Qe(i,t)}function Zn(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const Ha={provide:L,useExisting:(0,a.Gpc)(()=>le)},Rt=(()=>Promise.resolve())();let le=(()=>{class i extends L{constructor(e,n){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Ke({},We(e),je(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Rt.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),At(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Rt.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Rt.then(()=>{const n=this._findContainer(e.path),r=new Ke({});Xn(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Rt.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Rt.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Zn(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(P,10),a.Y36(et,10))},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&a.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Ha]),a.qOj]}),i})();function qn(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function Jn(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const $n=class extends Wn{constructor(t=null,e,n){super(Je(e),$e(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ne(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Jn(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Jn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Qa={provide:L,useExisting:(0,a.Gpc)(()=>he)};let he=(()=>{class i extends L{constructor(e,n){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ae(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return At(n,e),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){oe(e.control||null,e,!1),function Ga(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,Zn(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(oe(n||null,e),(i=>i instanceof $n)(r)&&(At(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);Xn(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Na(i,t){return ae(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qe(this.form,this),this._oldForm&&ae(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(P,10),a.Y36(et,10))},i.\u0275dir=a.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&a.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Qa]),a.qOj,a.TTD]}),i})();var _l=b(9770),ai=b(3900),yl=b(4671);function wl(i,t){return i===t}const Cl=["trigger"],Ml=["panel"];function Sl(i,t){if(1&i&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function Dl(i,t){if(1&i&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function xl(i,t){1&i&&a.Hsn(0,0,["*ngSwitchCase","true"])}function Ol(i,t){if(1&i&&(a.TgZ(0,"span",9),a.YNc(1,Dl,2,1,"span",10),a.YNc(2,xl,1,0,"ng-content",11),a.qZA()),2&i){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function El(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o._handleKeydown(r))}),a.Hsn(3,1),a.qZA()()}if(2&i){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const kl=[[["mat-select-trigger"]],"*"],Vl=["mat-select-trigger","*"],br={transformPanelWrap:(0,O.X$)("transformPanelWrap",[(0,O.eR)("* => void",(0,O.IO)("@transformPanel",[(0,O.pV)()],{optional:!0}))]),transformPanel:(0,O.X$)("transformPanel",[(0,O.SB)("void",(0,O.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,O.SB)("showing",(0,O.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,O.SB)("showing-multiple",(0,O.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,O.eR)("void => *",(0,O.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,O.eR)("* => void",(0,O.jt)("100ms 25ms linear",(0,O.oB)({opacity:0})))])};let wr=0;const Mr=new a.OlP("mat-select-scroll-strategy"),Pl=new a.OlP("MAT_SELECT_CONFIG"),Bl={provide:Mr,deps:[Kt],useFactory:function Rl(i){return()=>i.scrollStrategies.reposition()}};class Tl{constructor(t,e){this.source=t,this.value=e}}const Ll=(0,k.Kr)((0,k.sb)((0,k.Id)((0,k.FD)(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new B.x}})))),Nl=new a.OlP("MatSelectTrigger");let Il=(()=>{class i extends Ll{constructor(e,n,r,o,s,l,h,u,c,d,f,p,m,g){super(s,o,h,u,d),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=l,this._parentFormField=c,this._liveAnnouncer=m,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(v,y)=>v===y,this._uid="mat-select-"+wr++,this._triggerAriaLabelledBy=null,this._destroy=new B.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+wr++,this._panelDoneAnimatingStream=new B.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,_l.P)(()=>{const v=this.options;return v?v.changes.pipe((0,xt.O)(v),(0,ai.w)(()=>(0,Dt.T)(...v.map(y=>y.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ot.q)(1),(0,ai.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe((0,$t.h)(v=>v),(0,kt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,$t.h)(v=>!v),(0,kt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=g?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ma.required)??!1}set required(e){this._required=(0,M.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,M.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,M.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,M.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new da(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(function bl(i,t=yl.y){return i=i??wl,(0,Ne.e)((e,n)=>{let r,o=!0;e.subscribe((0,Jt.x)(n,s=>{const l=t(s);(o||!i(r,l))&&(o=!1,r=l,n.next(s))}))})}(),(0,I.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,I.R)(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe((0,xt.O)(null),(0,I.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=n===T.JH||n===T.LH||n===T.oh||n===T.SV,o=n===T.K5||n===T.L_,s=this._keyManager;if(!s.isTyping()&&o&&!(0,T.Vb)(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;s.onKeydown(e);const h=this.selected;h&&l!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,o=r===T.JH||r===T.LH,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||r!==T.K5&&r!==T.L_||!n.activeItem||(0,T.Vb)(e))if(!s&&this._multiple&&r===T.A&&e.ctrlKey){e.preventDefault();const l=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(l?h.select():h.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ot.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new dn.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,I.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,I.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Dt.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,I.R)(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Dt.T)(...this.options.map(n=>n._stateChanges)).pipe((0,I.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Ie),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(k.rD),a.Y36(a.SBq),a.Y36(nt.Is,8),a.Y36(le,8),a.Y36(he,8),a.Y36(Wi,8),a.Y36(J,10),a.$8M("tabindex"),a.Y36(Mr),a.Y36(dn.Kd),a.Y36(Pl,8))},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,n){if(1&e&&(a.Gf(Cl,5),a.Gf(Ml,5),a.Gf(un,5)),2&e){let r;a.iGM(r=a.CRH())&&(n.trigger=r.first),a.iGM(r=a.CRH())&&(n.panel=r.first),a.iGM(r=a.CRH())&&(n._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),i})(),zl=(()=>{class i extends Il{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,n,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-n+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,I.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ot.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const n=(0,k.CB)(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===n?0:(0,k.jH)((e+n)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Tl(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let u=this._selectionModel.selected[0]||this.options.first;s=u&&u.group?32:16}r||(s*=-1);const l=0-(e.left+s-(r?o:0)),h=e.right+s-n.width+(r?0:o);l>0?s+=l+8:h>0&&(s-=h+8),this._overlayDir.offsetX=Math.round(s),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,n,r){const o=this._getItemHeight(),s=(o-this._triggerRect.height)/2,l=Math.floor(256/o);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-l))*o+(o-(this._getItemCount()*o-256)%o):n-o/2,Math.round(-1*h-s))}_checkOverlayWithinViewport(e){const n=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,s=r.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),u=Math.min(this._getItemCount()*n,256)-l-this._triggerRect.height;u>s?this._adjustPanelUp(u,s):l>o?this._adjustPanelDown(l,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,n){const r=Math.round(e-n);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,n,r){const o=Math.round(e-n);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*e,256),s=n*e-r;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=(0,k.CB)(l,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(l,h,s),this._offsetY=this._calculateOverlayOffsetY(l,h,s),this._checkOverlayWithinViewport(s)}_getOriginBasedOnOption(){const e=this._getItemHeight(),n=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(i)))(n||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(e,n,r){if(1&e&&(a.Suo(r,Nl,5),a.Suo(r,k.ey,5),a.Suo(r,k.K7,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.customTrigger=o.first),a.iGM(o=a.CRH())&&(n.options=o),a.iGM(o=a.CRH())&&(n.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,n){1&e&&a.NdJ("keydown",function(o){return n._handleKeydown(o)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(a.uIk("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),a.ekj("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:Be,useExisting:i},{provide:k.HF,useExisting:i}]),a.qOj],ngContentSelectors:Vl,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(a.F$t(kl),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return n.toggle()}),a.TgZ(3,"div",2),a.YNc(4,Sl,2,1,"span",3),a.YNc(5,Ol,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,El,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const r=a.MAs(1);a.uIk("aria-owns",n.panelOpen?n.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",n.empty),a.uIk("id",n._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},dependencies:[x.mk,x.RF,x.n9,x.ED,un,cn],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[br.transformPanelWrap,br.transformPanel]},changeDetection:0}),i})(),Gl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Bl],imports:[x.ez,ua,k.Ng,k.BQ,ze,Ss,k.Ng,k.BQ]}),i})();var Hl=b(4707),Yl=b(8505),Wl=b(9841);const{isArray:jl}=Array;function Xl(i){return 1===i.length&&jl(i[0])?i[0]:i}var Ul=b(9635);function Sr(...i){const t=(0,fn.jO)(i);return t?(0,Ul.z)(Sr(...i),(0,Pe.Z)(t)):(0,Ne.e)((e,n)=>{(0,Wl.l)([e,...Xl(i)])(n)})}function Zl(...i){return Sr(...i)}var Dr,xr,i,ql={allowDownsampling:!0},$l=function(){function i(t,e){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(r){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}return i.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(i.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),i.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(i.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),i.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},i.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter(function(e){return e!=t})},i.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},i.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach(function(e){return e.call(t)})},i.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+t.devicePixelRatio+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},i}();function ht(i,t){var e,n=((e={})[0]=[],e[1]=[i.lineWidth,i.lineWidth],e[2]=[2*i.lineWidth,2*i.lineWidth],e[3]=[6*i.lineWidth,6*i.lineWidth],e[4]=[i.lineWidth,4*i.lineWidth],e)[t];i.setLineDash(n)}function Or(i,t,e,n){i.beginPath();var r=i.lineWidth%2?.5:0;i.moveTo(e,t+r),i.lineTo(n,t+r),i.stroke()}function mt(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function z(i){if(void 0===i)throw new Error("Value is undefined");return i}function _(i){if(null===i)throw new Error("Value is null");return i}function Bt(i){return _(z(i))}(i=Dr||(Dr={}))[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(xr||(xr={}));var Er={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function G(i){return i<0?0:i>255?255:Math.round(i)||0}function kr(i){return i<=0||i>0?i<0?0:i>1?1:Math.round(1e4*i)/1e4:0}var Kl=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Ql=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,th=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,eh=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function ue(i){var t;if((i=i.toLowerCase())in Er&&(i=Er[i]),t=eh.exec(i)||th.exec(i))return[G(parseInt(t[1],10)),G(parseInt(t[2],10)),G(parseInt(t[3],10)),kr(t.length<5?1:parseFloat(t[4]))];if(t=Ql.exec(i))return[G(parseInt(t[1],16)),G(parseInt(t[2],16)),G(parseInt(t[3],16)),1];if(t=Kl.exec(i))return[G(17*parseInt(t[1],16)),G(17*parseInt(t[2],16)),G(17*parseInt(t[3],16)),1];throw new Error("Cannot parse color: ".concat(i))}function de(i){var t,e=ue(i);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:(t=e,.199*t[0]+.687*t[1]+.114*t[2]>160?"black":"white")}}var li=function(i,t){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])})(i,t)};function S(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}li(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var D=function(){return D=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},D.apply(this,arguments)};function Vr(i,t,e){if(e||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return i.concat(n||Array.prototype.slice.call(t))}var F=function(){function i(){this.h=[]}return i.prototype.u=function(t,e,n){this.h.push({o:t,l:e,v:!0===n})},i.prototype._=function(t){var e=this.h.findIndex(function(n){return t===n.o});e>-1&&this.h.splice(e,1)},i.prototype.M=function(t){this.h=this.h.filter(function(e){return e.l!==t})},i.prototype.m=function(t,e){var n=Vr([],this.h,!0);this.h=this.h.filter(function(r){return!r.v}),n.forEach(function(r){return r.o(t,e)})},i.prototype.p=function(){return this.h.length>0},i.prototype.g=function(){this.h=[]},i}();function A(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0,r=t;n<r.length;n++){var o=r[n];for(var s in o)void 0!==o[s]&&("object"!=typeof o[s]||void 0===i[s]?i[s]=o[s]:A(i[s],o[s]))}return i}function j(i){return"number"==typeof i&&isFinite(i)}function Tt(i){return"number"==typeof i&&i%1==0}function hi(i){return"string"==typeof i}function ci(i){return"boolean"==typeof i}function N(i){var t,e,n,r=i;if(!r||"object"!=typeof r)return r;for(e in t=Array.isArray(r)?[]:{},r)r.hasOwnProperty(e)&&(t[e]=(n=r[e])&&"object"==typeof n?N(n):n);return t}function ih(i){return null!==i}function fe(i){return null===i?void 0:i}var ui="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ct(i,t,e){return e=void 0!==e?"".concat(e," "):"",void 0===t&&(t=ui),"".concat(e).concat(i,"px ").concat(t)}var nh=function(){function i(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}return i.prototype.W=function(){var t=this.k,e=this.R(),n=this.I();return t.S===e&&t.D===n||(t.S=e,t.D=n,t.T=ct(e,n),t.O=Math.floor(e/3.5),t.B=t.O,t.L=Math.max(Math.ceil(e/2-t.C/2),0),t.F=Math.ceil(e/2+t.C/2),t.V=Math.round(e/10)),t.A=this.j(),this.k},i.prototype.j=function(){return this.P.W().layout.textColor},i.prototype.R=function(){return this.P.W().layout.fontSize},i.prototype.I=function(){return this.P.W().layout.fontFamily},i}(),pe=function(){function i(){this.q=[]}return i.prototype.U=function(t){this.q=t},i.prototype.H=function(t,e,n,r){this.q.forEach(function(o){t.save(),o.H(t,e,n,r),t.restore()})},i}(),Lt=function(){function i(){}return i.prototype.H=function(t,e,n,r){t.save(),t.scale(e,e),this.Y(t,n,r),t.restore()},i.prototype.$=function(t,e,n,r){t.save(),t.scale(e,e),this.K(t,n,r),t.restore()},i.prototype.K=function(t,e,n){},i}(),rh=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.X=null,e}return S(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(null!==this.X&&null!==this.X.J){var n=this.X.J,r=this.X,o=function(s){e.beginPath();for(var l=n.to-1;l>=n.from;--l){var h=r.G[l];e.moveTo(h.tt,h.it),e.arc(h.tt,h.it,s,0,2*Math.PI)}e.fill()};e.fillStyle=r.nt,o(r.st+2),e.fillStyle=r.ht,o(r.st)}},t}(Lt);function oh(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var sh={from:0,to:1},ah=function(){function i(t,e){this.ut=new pe,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=e,this.ut.U(this.ot)}return i.prototype.vt=function(t){var e=this.P._t();e.length!==this.ot.length&&(this.lt=e.map(oh),this.ot=this.lt.map(function(n){var r=new rh;return r.Z(n),r}),this.ut.U(this.ot)),this.ft=!0},i.prototype.dt=function(t,e,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},i.prototype.wt=function(t){var e=this,n=this.P._t(),r=this.ct.Mt(),o=this.P.bt();n.forEach(function(s,l){var h,u=e.lt[l],c=s.gt(r);if(null!==c&&s.yt()){var d=_(s.kt());u.ht=c.Nt,u.st=c.st,u.G[0].et=c.et,u.G[0].it=s.Ct().xt(c.et,d.St),u.nt=null!==(h=c.Tt)&&void 0!==h?h:e.P.Dt(u.G[0].it/t),u.G[0].rt=r,u.G[0].tt=o.At(r),u.J=sh}else u.J=null})},i}(),lh=function(){function i(t){this.Bt=t}return i.prototype.H=function(t,e,n,r){if(null!==this.Bt){var o=this.Bt.Lt.yt,s=this.Bt.Et.yt;if(o||s){t.save();var l=Math.round(this.Bt.tt*e),h=Math.round(this.Bt.it*e),u=Math.ceil(this.Bt.Ft*e),c=Math.ceil(this.Bt.Ot*e);t.lineCap="butt",o&&l>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*e),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,ht(t,this.Bt.Lt.Pt),function(d,f,p,m){d.beginPath();var g=d.lineWidth%2?.5:0;d.moveTo(f+g,0),d.lineTo(f+g,m),d.stroke()}(t,l,0,c)),s&&h>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*e),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,ht(t,this.Bt.Et.Pt),Or(t,h,0,u)),t.restore()}}},i}(),hh=function(){function i(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new lh(this.Wt),this.Rt=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.ft&&(this.wt(),this.ft=!1),this.zt},i.prototype.wt=function(){var t=this.Rt.yt(),e=_(this.Rt.It()),n=e.jt().W().crosshair,r=this.Wt;r.Et.yt=t&&this.Rt.qt(e),r.Lt.yt=t&&this.Rt.Ut(),r.Et.Vt=n.horzLine.width,r.Et.Pt=n.horzLine.style,r.Et.A=n.horzLine.color,r.Lt.Vt=n.vertLine.width,r.Lt.Pt=n.vertLine.style,r.Lt.A=n.vertLine.color,r.Ft=e.Ht(),r.Ot=e.Yt(),r.tt=this.Rt.$t(),r.it=this.Rt.Kt()},i}();function ch(i,t,e,n,r,o){i.fillRect(t+o,e,n-2*o,o),i.fillRect(t+o,e+r-o,n-2*o,o),i.fillRect(t,e,o,r),i.fillRect(t+n-o,e,o,r)}function X(i,t,e){i.save(),i.scale(t,t),e(),i.restore()}function me(i,t,e,n,r,o){i.save(),i.globalCompositeOperation="copy",i.fillStyle=o,i.fillRect(t,e,n,r),i.restore()}function Fr(i,t,e,n,r,o,s){i.save(),i.globalCompositeOperation="copy";var l=i.createLinearGradient(0,0,0,r);l.addColorStop(0,o),l.addColorStop(1,s),i.fillStyle=l,i.fillRect(t,e,n,r),i.restore()}var Ar,Rr=function(){function i(t,e){this.Z(t,e)}return i.prototype.Z=function(t,e){this.Bt=t,this.Xt=e},i.prototype.H=function(t,e,n,r,o,s){if(this.Bt.yt){t.font=e.T;var l=this.Bt.Zt||!this.Bt.Jt?e.C:0,h=e.N,u=e.O,c=e.B,d=e.L,f=e.F,p=this.Bt.Gt,m=Math.ceil(n.Qt(t,p)),g=e.V,v=e.S+u+c,y=Math.ceil(.5*v),w=h+m+d+f+l,C=this.Xt.ti;this.Xt.ii&&(C=this.Xt.ii);var E,V,it=(C=Math.round(C))-y,jt=it+v,Q="right"===o,q=Q?r:0,Bo=Math.ceil(r*s),Bi=q;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",p){Q?(E=q-l,V=(Bi=q-w)+f):(Bi=q+w,E=q+l,V=q+h+l+d);var To=Math.max(1,Math.floor(s)),Lo=Math.max(1,Math.floor(h*s)),Ae=Q?Bo:0,Xt=Math.round(it*s),No=Math.round(Bi*s),Ti=Math.round(C*s)-Math.floor(.5*s),Li=Ti+To+(Ti-Xt),Xc=Math.round(E*s);t.save(),t.beginPath(),t.moveTo(Ae,Xt),t.lineTo(No,Xt),t.lineTo(No,Li),t.lineTo(Ae,Li),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(Q?Bo-Lo:0,Xt,Lo,Li-Xt),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(Ae,Ti,Xc-Ae,To)),t.textAlign="left",t.fillStyle=this.Xt.A,X(t,s,function(){t.fillText(p,V,jt-c-g)}),t.restore()}}},i.prototype.Yt=function(t,e){return this.Bt.yt?t.S+t.O+t.B:0},i}(),di=function(){function i(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||Rr)(this.si,this.ni),this.ei=new(t||Rr)(this.hi,this.ni)}return i.prototype.Gt=function(){return this.ui(),this.si.Gt},i.prototype.ti=function(){return this.ui(),this.ni.ti},i.prototype.vt=function(){this.ft=!0},i.prototype.Yt=function(t,e){return void 0===e&&(e=!1),Math.max(this.ri.Yt(t,e),this.ei.Yt(t,e))},i.prototype.ai=function(){return this.ni.ii||0},i.prototype.oi=function(t){this.ni.ii=t},i.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},i.prototype.fi=function(){return this.ui(),this.si.yt},i.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},i.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},i.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},i}(),uh=function(i){function t(e,n,r){var o=i.call(this)||this;return o.Rt=e,o._i=n,o.di=r,o}return S(t,i),t.prototype.vi=function(e,n,r){e.yt=!1;var o=this.Rt.W().horzLine;if(o.labelVisible){var s=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&null!==s){var l=de(o.labelBackgroundColor);r.t=l.t,r.A=l.i;var h=this.di(this._i);r.ti=h.ti,e.Gt=this._i.Mi(h.et,s),e.yt=!0}}},t}(di),dh=/[1-9]/g,fh=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n){var r=this;if(null!==this.Bt&&!1!==this.Bt.yt&&0!==this.Bt.Gt.length){t.font=e.T;var o=Math.round(e.bi.Qt(t,this.Bt.Gt,dh));if(!(o<=0)){t.save();var s=e.mi,l=o+2*s,h=l/2,u=this.Bt.Ht,c=this.Bt.ti,d=Math.floor(c-h)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-h)+.5):d+l>u&&(c-=Math.abs(u-(d+l)),d=Math.floor(c-h)+.5);var f=d+l,p=0+e.N+e.O+e.S+e.B;t.fillStyle=this.Bt.t;var m=Math.round(d*n),g=Math.round(0*n),v=Math.round(f*n),y=Math.round(p*n);t.fillRect(m,g,v-m,y-g);var w=Math.round(this.Bt.ti*n),C=g,E=Math.round((C+e.N+e.C)*n);t.fillStyle=this.Bt.A;var V=Math.max(1,Math.floor(n)),it=Math.floor(.5*n);t.fillRect(w-it,C,V,E-C);var jt=p-e.V-e.B;t.textAlign="left",t.fillStyle=this.Bt.A,X(t,n,function(){t.fillText(_(r.Bt).Gt,d+s,jt)}),t.restore()}}},i}(),ph=function(){function i(t,e,n){this.ft=!0,this.zt=new fh,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=e,this.di=n}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},i.prototype.wt=function(){var t=this.Wt;t.yt=!1;var e=this.ct.W().vertLine;if(e.labelVisible){var n=this.pi.bt();if(!n.wi()){var r=n.gi(this.ct.Mt());t.Ht=n.Ht();var o=this.di();if(o.rt){t.ti=o.ti,t.Gt=n.yi(_(r)),t.yt=!0;var s=de(e.labelBackgroundColor);t.t=s.t,t.A=s.i}}}},i}(),fi=function(){function i(){this.ki=null,this.Ni=0}return i.prototype.xi=function(){return this.Ni},i.prototype.Ci=function(t){this.Ni=t},i.prototype.Ct=function(){return this.ki},i.prototype.Si=function(t){this.ki=t},i.prototype.Ti=function(){return[]},i.prototype.yt=function(){return!0},i}();!function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet"}(Ar||(Ar={}));var mh=function(i){function t(e,n){var o,s,r=i.call(this)||this;r.Di=null,r.Ai=NaN,r.Bi=0,r.Li=!0,r.Ei=new Map,r.Fi=!1,r.Oi=NaN,r.Vi=NaN,r.Pi=NaN,r.Wi=NaN,r.pi=e,r.zi=n,r.Ri=new ah(e,r),r.Ii=(o=function(){return r.Ai},s=function(){return r.Vi},function(h){var u=s(),c=o();if(h===_(r.Di).ji())return{et:c,ti:u};var d=_(h.kt());return{et:h.qi(u,d),ti:u}});return r.Ui=new ph(r,e,function(){return{rt:r.pi.bt().gi(r.Bi),ti:r.$t()}}),r.Hi=new hh(r),r}return S(t,i),t.prototype.W=function(){return this.zi},t.prototype.Yi=function(e,n){this.Pi=e,this.Wi=n},t.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},t.prototype.Ki=function(){return this.Pi},t.prototype.Xi=function(){return this.Wi},t.prototype.Zi=function(e,n,r){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(e,n,r)},t.prototype.Mt=function(){return this.Bi},t.prototype.$t=function(){return this.Oi},t.prototype.Kt=function(){return this.Vi},t.prototype.yt=function(){return this.Li},t.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},t.prototype.tn=function(e){return null!==this.Di?[this.Hi,this.Ri]:[]},t.prototype.qt=function(e){return e===this.Di&&this.zi.horzLine.visible},t.prototype.Ut=function(){return this.zi.vertLine.visible},t.prototype.nn=function(e,n){this.Li&&this.Di===e||this.Ei.clear();var r=[];return this.Di===e&&r.push(this.sn(this.Ei,n,this.Ii)),r},t.prototype.Ti=function(){return this.Li?[this.Ui]:[]},t.prototype.It=function(){return this.Di},t.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach(function(e){return e.vt()}),this.Ui.vt(),this.Ri.vt()},t.prototype.rn=function(e){return e&&!e.ji().wi()?e.ji():null},t.prototype.Ji=function(e,n,r){this.en(e,n,r)&&this.hn()},t.prototype.en=function(e,n,r){var o=this.Oi,s=this.Vi,l=this.Ai,h=this.Bi,u=this.Di,c=this.rn(r);this.Bi=e,this.Oi=isNaN(e)?NaN:this.pi.bt().At(e),this.Di=r;var d=null!==c?c.kt():null;return null!==c&&null!==d?(this.Ai=n,this.Vi=c.xt(n,d)):(this.Ai=NaN,this.Vi=NaN),o!==this.Oi||s!==this.Vi||h!==this.Bi||l!==this.Ai||u!==this.Di},t.prototype.Qi=function(){var e=this.pi._t().map(function(r){return r.an().un()}).filter(ih),n=0===e.length?null:Math.max.apply(Math,e);this.Bi=null!==n?n:NaN},t.prototype.sn=function(e,n,r){var o=e.get(n);return void 0===o&&(o=new uh(this,n,r),e.set(n,o)),o},t}(fi);function ge(i){return"left"===i||"right"===i}var H=function(){function i(t){this.on=new Map,this.ln=[],this.fn=t}return i.prototype.cn=function(t,e){var r,o,n=(o=e,void 0===(r=this.on.get(t))?o:{vn:Math.max(r.vn,o.vn),_n:r._n||o._n});this.on.set(t,n)},i.prototype.dn=function(){return this.fn},i.prototype.wn=function(t){var e=this.on.get(t);return void 0===e?{vn:this.fn}:{vn:Math.max(this.fn,e.vn),_n:e._n}},i.prototype.Mn=function(){this.ln=[{bn:0}]},i.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},i.prototype.pn=function(){this.ln=[{bn:4}]},i.prototype.gn=function(t){this.ln.push({bn:2,St:t})},i.prototype.yn=function(t){this.ln.push({bn:3,St:t})},i.prototype.kn=function(){return this.ln},i.prototype.Nn=function(t){for(var e=this,n=0,r=t.ln;n<r.length;n++)this.xn(r[n]);this.fn=Math.max(this.fn,t.fn),t.on.forEach(function(s,l){e.cn(l,s)})},i.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}},i}();function $(i,t){if(!j(i))return"n/a";if(!Tt(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?i.toString():("0000000000000000"+i.toString()).slice(-t)}var ve=function(){function i(t,e){if(e||(e=1),j(t)&&Tt(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Cn=e,this.Sn()}return i.prototype.format=function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.Tn(t)},i.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},i.prototype.Tn=function(t){var e=this._i/this.Cn,n=Math.floor(t),r="",o=void 0!==this.Dn?this.Dn:NaN;if(e>1){var s=+(Math.round(t*e)-n*e).toFixed(this.Dn);s>=e&&(s-=e,n+=1),r="."+$(+s.toFixed(this.Dn)*this.Cn,o)}else n=Math.round(n*e)/e,o>0&&(r="."+$(0,o));return n.toFixed(0)+r},i}(),Br=function(i){function t(e){return void 0===e&&(e=100),i.call(this,e)||this}return S(t,i),t.prototype.format=function(e){return"".concat(i.prototype.format.call(this,e),"%")},t}(ve),gh=function(){function i(t){this.An=t}return i.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.Bn(t):t<999995?e+this.Bn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Bn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Bn(t/1e9)+"B")},i.prototype.Bn=function(t){var e=Math.pow(10,this.An);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,function(n,r){return r})},i}();function Tr(i,t,e,n){if(0!==t.length){i.moveTo(t[n.from].tt,t[n.from].it);for(var s=n.from+1;s<n.to;++s){var l=t[s];1===e&&i.lineTo(l.tt,t[s-1].it),i.lineTo(l.tt,l.it)}}}var Lr=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.X=null,e}return S(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(e.lineCap="butt",e.lineJoin="round",e.lineWidth=this.X.Vt,ht(e,this.X.Pt),e.lineWidth=1,e.beginPath(),1===this.X.G.length){var n=this.X.G[0],r=this.X.Ln/2;e.moveTo(n.tt-r,this.X.En),e.lineTo(n.tt-r,n.it),e.lineTo(n.tt+r,n.it),e.lineTo(n.tt+r,this.X.En)}else e.moveTo(this.X.G[this.X.J.from].tt,this.X.En),e.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),Tr(e,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(e.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),e.lineTo(this.X.G[this.X.J.from].tt,this.X.En));e.closePath(),e.fillStyle=this.On(e),e.fill()}},t}(Lt),vh=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return S(t,i),t.prototype.On=function(e){var n=this.X,r=e.createLinearGradient(0,0,0,n.Vn);return r.addColorStop(0,n.Pn),r.addColorStop(1,n.Wn),r},t}(Lr),Nr=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.X=null,e}return S(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J)if(e.lineCap="butt",e.lineWidth=this.X.Vt,ht(e,this.X.Pt),e.strokeStyle=this.zn(e),e.lineJoin="round",1===this.X.G.length){e.beginPath();var n=this.X.G[0];e.moveTo(n.tt-this.X.Ln/2,n.it),e.lineTo(n.tt+this.X.Ln/2,n.it),void 0!==n.A&&(e.strokeStyle=n.A),e.stroke()}else this.Rn(e,this.X)},t.prototype.Rn=function(e,n){e.beginPath(),Tr(e,n.G,n.Fn,n.J),e.stroke()},t}(Lt),Ir=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return S(t,i),t.prototype.Rn=function(e,n){var r,o,s=n.G,l=n.J,h=n.Fn,u=n.ht;if(0!==s.length&&null!==l){e.beginPath();var c=s[l.from];e.moveTo(c.tt,c.it);var d=null!==(r=c.A)&&void 0!==r?r:u;e.strokeStyle=d;for(var f=function(y){e.stroke(),e.beginPath(),e.strokeStyle=y,d=y},p=l.from+1;p<l.to;++p){var m=s[p],g=s[p-1],v=null!==(o=m.A)&&void 0!==o?o:u;1===h&&(e.lineTo(m.tt,g.it),v!==d&&(f(v),e.moveTo(m.tt,g.it))),e.lineTo(m.tt,m.it),1!==h&&v!==d&&(f(v),e.moveTo(m.tt,m.it))}e.stroke()}},t.prototype.zn=function(){return this.X.ht},t}(Nr);function Nt(i,t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.length);for(var o=r-n;0<o;){var s=o>>1,l=n+s;e(i[l],t)?(n=l+1,o-=s+1):o=s}return n}function zr(i,t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.length);for(var o=r-n;0<o;){var s=o>>1,l=n+s;e(t,i[l])?o=s:(n=l+1,o-=s+1)}return n}function _h(i,t){return i.rt<t}function yh(i,t){return i<t.rt}function pi(i,t,e){var n=t.In(),r=t.jn(),o=Nt(i,n,_h),s=zr(i,r,yh);if(!e)return{from:o,to:s};var l=o,h=s;return o>0&&o<i.length&&i[o].rt>=n&&(l=o-1),s>0&&s<i.length&&i[s-1].rt<=r&&(h=s+1),{from:l,to:h}}var mi=function(){function i(t,e,n){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=e,this.Zn=n}return i.prototype.vt=function(t){this.qn=!0,"data"===t&&(this.Un=!0),"options"===t&&(this.Hn=!0)},i.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},i.prototype.ns=function(){this.$n=null},i.prototype.Qn=function(){var t=this.Kn.Ct(),e=this.Xn.bt();if(this.ns(),!e.wi()&&!t.wi()){var n=e.ss();if(null!==n&&0!==this.Kn.an().hs()){var r=this.Kn.kt();null!==r&&(this.$n=pi(this.Yn,n,this.Zn),this.rs(t,e,r.St))}}},i}(),gi=function(i){function t(e,n){return i.call(this,e,n,!0)||this}return S(t,i),t.prototype.rs=function(e,n,r){n.es(this.Yn,fe(this.$n)),e.us(this.Yn,r,fe(this.$n))},t.prototype.os=function(e,n){return{rt:e,et:n,tt:NaN,it:NaN}},t.prototype.ts=function(){},t.prototype.Gn=function(){var e=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(r){return e.cs(r.vs,r.St[3],n)})},t}(mi),bh=function(i){function t(e,n){var r=i.call(this,e,n)||this;return r.zt=new pe,r._s=new vh,r.ds=new Ir,r.zt.U([r._s,r.ds]),r}return S(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var r=this.Kn.W();return this.Jn(),this._s.Z({Fn:r.lineType,G:this.Yn,Pt:r.lineStyle,Vt:r.lineWidth,Pn:r.topColor,Wn:r.bottomColor,En:e,Vn:e,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:r.lineType,G:this.Yn,ht:r.lineColor,Pt:r.lineStyle,Vt:r.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},t.prototype.cs=function(e,n){return this.os(e,n)},t}(gi),wh=function(){function i(){this.Bt=null,this.Ms=0,this.bs=0}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,r){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=this.ps(e),this.Ms>=2&&Math.max(1,Math.floor(e))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(e)):this.Ms;for(var o=null,s=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*e),l=this.Bt.J.from;l<this.Bt.J.to;++l){var h=this.Bt.an[l];o!==h.A&&(t.fillStyle=h.A,o=h.A);var u=Math.floor(.5*this.bs),c=Math.round(h.tt*e),d=c-u,f=this.bs,p=d+f-1,m=Math.min(h.ys,h.ks),g=Math.max(h.ys,h.ks),v=Math.round(m*e)-u,y=Math.round(g*e)+u,w=Math.max(y-v,this.bs);t.fillRect(d,v,f,w);var C=Math.ceil(1.5*this.Ms);if(s){if(this.Bt.Ns){var E=c-C,V=Math.max(v,Math.round(h.xs*e)-u),it=V+f-1;it>v+w-1&&(V=(it=v+w-1)-f+1),t.fillRect(E,V,d-E,it-V+1)}var jt=c+C,Q=Math.max(v,Math.round(h.Cs*e)-u),q=Q+f-1;q>v+w-1&&(Q=(q=v+w-1)-f+1),t.fillRect(p+1,Q,jt-p,q-Q+1)}}}},i.prototype.ps=function(t){var n,e=Math.floor(t);return Math.max(e,Math.floor((n=_(this.Bt).ws,Math.floor(.3*n*t))))},i}(),Gr=function(i){function t(e,n){return i.call(this,e,n,!1)||this}return S(t,i),t.prototype.rs=function(e,n,r){n.es(this.Yn,fe(this.$n)),e.Ss(this.Yn,r,fe(this.$n))},t.prototype.Ts=function(e,n,r){return{rt:e,open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},t.prototype.Gn=function(){var e=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(r){return e.cs(r.vs,r,n)})},t}(mi),Ch=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.zt=new wh,e}return S(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var r=this.Kn.W();this.Jn();var o={an:this.Yn,ws:this.Xn.bt().ws(),Ns:r.openVisible,gs:r.thinBars,J:this.$n};return this.zt.Z(o),this.zt},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){n.A=e.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(e,n,r){return D(D({},this.Ts(e,n,r)),{A:r.As(e).Ds})},t}(Gr);function _e(i,t,e){return Math.min(Math.max(i,t),e)}function ye(i,t,e){return t-i<=e}function Hr(i){return i<=0?NaN:Math.log(i)/Math.log(10)}function vi(i){var t=Math.ceil(i);return t%2!=0?t-1:t}function Yr(i){var t=Math.ceil(i);return t%2==0?t-1:t}var Mh=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return S(t,i),t.prototype.On=function(e){var n=this.X,r=e.createLinearGradient(0,0,0,n.Vn),o=_e(n.En/n.Vn,0,1);return r.addColorStop(0,n.Bs),r.addColorStop(o,n.Ls),r.addColorStop(o,n.Es),r.addColorStop(1,n.Fs),r},t}(Lr),Sh=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return S(t,i),t.prototype.zn=function(e){var n=this.X,r=e.createLinearGradient(0,0,0,n.Vn),o=_e(n.En/n.Vn,0,1);return r.addColorStop(0,n.Pn),r.addColorStop(o,n.Pn),r.addColorStop(o,n.Wn),r.addColorStop(1,n.Wn),r},t}(Nr),Dh=function(i){function t(e,n){var r=i.call(this,e,n)||this;return r.Os=new Mh,r.Vs=new Sh,r.ut=new pe,r.ut.U([r.Os,r.Vs]),r}return S(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var r=this.Kn.kt();if(null===r)return null;var o=this.Kn.W();this.Jn();var s=this.Kn.Ct().xt(o.baseValue.price,r.St),l=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:o.topFillColor1,Ls:o.topFillColor2,Es:o.bottomFillColor1,Fs:o.bottomFillColor2,Vt:o.lineWidth,Pt:o.lineStyle,Fn:0,En:s,Vn:e,J:this.$n,Ln:l}),this.Vs.Z({G:this.Yn,Pn:o.topLineColor,Wn:o.bottomLineColor,Vt:o.lineWidth,Pt:o.lineStyle,Fn:0,En:s,Vn:e,J:this.$n,Ln:l}),this.ut},t.prototype.cs=function(e,n){return this.os(e,n)},t}(gi),xh=function(){function i(){this.Bt=null,this.Ms=0}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,r){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=function(l,h){if(l>=2.5&&l<=4)return Math.floor(3*h);var u=1-.2*Math.atan(Math.max(4,l)-4)/(.5*Math.PI),c=Math.floor(l*u*h),d=Math.floor(l*h),f=Math.min(c,d);return Math.max(Math.floor(h),f)}(this.Bt.ws,e),this.Ms>=2&&Math.floor(e)%2!=this.Ms%2&&this.Ms--;var o=this.Bt.an;this.Bt.Ps&&this.Ws(t,o,this.Bt.J,e),this.Bt.zs&&this.Rs(t,o,this.Bt.J,this.Bt.ws,e);var s=this.Is(e);(!this.Bt.zs||this.Ms>2*s)&&this.js(t,o,this.Bt.J,e)}},i.prototype.Ws=function(t,e,n,r){if(null!==this.Bt){var o="",s=Math.min(Math.floor(r),Math.floor(this.Bt.ws*r));s=Math.max(Math.floor(r),Math.min(s,this.Ms));for(var l=Math.floor(.5*s),h=null,u=n.from;u<n.to;u++){var c=e[u];c.qs!==o&&(t.fillStyle=c.qs,o=c.qs);var d=Math.round(Math.min(c.xs,c.Cs)*r),f=Math.round(Math.max(c.xs,c.Cs)*r),p=Math.round(c.ys*r),m=Math.round(c.ks*r),g=Math.round(r*c.tt)-l,v=g+s-1;null!==h&&(g=Math.max(h+1,g),g=Math.min(g,v));var y=v-g+1;t.fillRect(g,p,y,d-p),t.fillRect(g,f+1,y,m-f),h=v}}},i.prototype.Is=function(t){var e=Math.floor(1*t);this.Ms<=2*e&&(e=Math.floor(.5*(this.Ms-1)));var n=Math.max(Math.floor(t),e);return this.Ms<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},i.prototype.Rs=function(t,e,n,r,o){if(null!==this.Bt)for(var s="",l=this.Is(o),h=null,u=n.from;u<n.to;u++){var c=e[u];c.Tt!==s&&(t.fillStyle=c.Tt,s=c.Tt);var d=Math.round(c.tt*o)-Math.floor(.5*this.Ms),f=d+this.Ms-1,p=Math.round(Math.min(c.xs,c.Cs)*o),m=Math.round(Math.max(c.xs,c.Cs)*o);null!==h&&(d=Math.max(h+1,d),d=Math.min(d,f)),this.Bt.ws*o>2*l?ch(t,d,p,f-d+1,m-p+1,l):t.fillRect(d,p,f-d+1,m-p+1),h=f}},i.prototype.js=function(t,e,n,r){if(null!==this.Bt)for(var o="",s=this.Is(r),l=n.from;l<n.to;l++){var h=e[l],u=Math.round(Math.min(h.xs,h.Cs)*r),c=Math.round(Math.max(h.xs,h.Cs)*r),d=Math.round(h.tt*r)-Math.floor(.5*this.Ms),f=d+this.Ms-1;if(h.A!==o){var p=h.A;t.fillStyle=p,o=p}this.Bt.zs&&(d+=s,u+=s,f-=s,c-=s),u>c||t.fillRect(d,u,f-d+1,c-u+1)}},i}(),Oh=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.zt=new xh,e}return S(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var r=this.Kn.W();this.Jn();var o={an:this.Yn,ws:this.Xn.bt().ws(),Ps:r.wickVisible,zs:r.borderVisible,J:this.$n};return this.zt.Z(o),this.zt},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){var r=e.Kn.ls().As(n.rt);n.A=r.Ds,n.qs=r.Us,n.Tt=r.Hs})},t.prototype.cs=function(e,n,r){var o=r.As(e);return D(D({},this.Ts(e,n,r)),{A:o.Ds,qs:o.Us,Tt:o.Hs})},t}(Gr),Eh=function(){function i(){this.Bt=null,this.Ys=[]}return i.prototype.Z=function(t){this.Bt=t,this.Ys=[]},i.prototype.H=function(t,e,n,r){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){this.Ys.length||this.$s(e);for(var o=Math.max(1,Math.floor(e)),s=Math.round(this.Bt.Ks*e)-Math.floor(o/2),l=s+o,h=this.Bt.J.from;h<this.Bt.J.to;h++){var u=this.Bt.G[h],c=this.Ys[h-this.Bt.J.from],d=Math.round(u.it*e);t.fillStyle=u.A;var f=void 0,p=void 0;d<=s?(f=d,p=l):(f=s,p=d-Math.floor(o/2)+o),t.fillRect(c.In,f,c.jn-c.In+1,p-f)}}},i.prototype.$s=function(t){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){var e=Math.ceil(this.Bt.ws*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Bt.ws*t)-e;this.Ys=new Array(this.Bt.J.to-this.Bt.J.from);for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var o,s=this.Bt.G[r],l=Math.round(s.tt*t),h=void 0,u=void 0;n%2?(h=l-(o=(n-1)/2),u=l+o):(h=l-(o=n/2),u=l+o-1),this.Ys[r-this.Bt.J.from]={In:h,jn:u,Xs:l,Zs:s.tt*t,rt:s.rt}}for(r=this.Bt.J.from+1;r<this.Bt.J.to;r++){var c=this.Ys[r-this.Bt.J.from],d=this.Ys[r-this.Bt.J.from-1];c.rt===d.rt+1&&c.In-d.jn!==e+1&&(d.Xs>d.Zs?d.jn=c.In-e-1:c.In=d.jn+e+1)}var f=Math.ceil(this.Bt.ws*t);for(r=this.Bt.J.from;r<this.Bt.J.to;r++){(c=this.Ys[r-this.Bt.J.from]).jn<c.In&&(c.jn=c.In);var p=c.jn-c.In+1;f=Math.min(p,f)}if(e>0&&f<4)for(r=this.Bt.J.from;r<this.Bt.J.to;r++)(p=(c=this.Ys[r-this.Bt.J.from]).jn-c.In+1)>f&&(c.Xs>c.Zs?c.jn-=1:c.In+=1)}else this.Ys=[]},i}();function Wr(i){return{G:[],ws:i,Ks:NaN,J:null}}function kh(i,t,e){return{rt:i,et:t,tt:NaN,it:NaN,A:e}}var Vh=function(i){function t(e,n){var r=i.call(this,e,n,!1)||this;return r.ut=new pe,r.Js=Wr(0),r.zt=new Eh,r}return S(t,i),t.prototype.dt=function(e,n){return this.Kn.yt()?(this.Jn(),this.ut):null},t.prototype.Gn=function(){var e=this.Xn.bt().ws();this.Js=Wr(e);for(var n=0,r=0,o=this.Kn.W().color,s=0,l=this.Kn.an().fs();s<l.length;s++){var h=l[s],d=kh(h.vs,h.St[3],void 0!==h.A?h.A:o);++n<this.Js.G.length?this.Js.G[n]=d:this.Js.G.push(d),this.Yn[r++]={rt:h.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},t.prototype.ts=function(){},t.prototype.ns=function(){i.prototype.ns.call(this),this.Js.J=null},t.prototype.rs=function(e,n,r){if(null!==this.$n){var o=n.ws(),s=_(n.ss()),l=e.xt(this.Kn.W().base,r);n.es(this.Js.G),e.us(this.Js.G,r),this.Js.Ks=l,this.Js.J=pi(this.Js.G,s,!1),this.Js.ws=o,this.zt.Z(this.Js)}},t}(mi),Fh=function(i){function t(e,n){var r=i.call(this,e,n)||this;return r.ds=new Ir,r}return S(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var r=this.Kn.W();this.Jn();var o={G:this.Yn,ht:r.color,Pt:r.lineStyle,Fn:r.lineType,Vt:r.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(o),this.ds},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){n.A=e.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(e,n,r){var o=this.os(e,n);return o.A=r.As(e).Ds,o},t}(gi),Ah=/[2-9]/g,gt=function(){function i(t){void 0===t&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(new Array(t))}return i.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},i.prototype.Qt=function(t,e,n){var r=n||Ah,o=String(e).replace(r,"0"),s=this.Gs.get(o);if(void 0===s){if(0===(s=t.measureText(o).width)&&0!==e.length)return 0;var l=this.th[this.Qs];void 0!==l&&this.Gs.delete(l),this.th[this.Qs]=o,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(o,s)}return s},i}(),Rh=function(){function i(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}return i.prototype.eh=function(t,e,n,r){this.nh=t,this.k=e,this.hh=n,this.sh=r},i.prototype.H=function(t,e){null!==this.k&&null!==this.nh&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,e)},i}(),jr=function(){function i(t,e,n){this.uh=t,this.rh=new gt(50),this.ah=e,this.P=n,this.R=-1,this.zt=new Rh(this.rh)}return i.prototype.dt=function(t,e){var n=this.P.oh(this.ah);if(null===n)return null;var r=n.lh(this.ah)?n.fh():this.ah.Ct();if(null===r)return null;var o=n._h(r);if("overlay"===o)return null;var s=this.P.dh();return s.S!==this.R&&(this.R=s.S,this.rh.ih()),this.zt.eh(this.uh.ci(),s,e,o),this.zt},i}(),Ph=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,r){if(null!==this.Bt&&!1!==this.Bt.yt){var o=Math.round(this.Bt.it*e);if(!(o<0||o>Math.ceil(this.Bt.Yt*e))){var s=Math.ceil(this.Bt.Ht*e);t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*e),ht(t,this.Bt.Pt),Or(t,o,0,s)}}},i}(),_i=function(){function i(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new Ph,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.Kn.yt()?(this.ft&&(this.bh(t,e),this.ft=!1),this.Mh):null},i}(),Bh=function(i){function t(e){return i.call(this,e)||this}return S(t,i),t.prototype.bh=function(e,n){this.wh.yt=!1;var r=this.Kn.Ct(),o=r.mh().mh;if(2===o||3===o){var s=this.Kn.W();if(s.baseLineVisible&&this.Kn.yt()){var l=this.Kn.kt();null!==l&&(this.wh.yt=!0,this.wh.it=r.xt(l.St,l.St),this.wh.Ht=n,this.wh.Yt=e,this.wh.A=s.baseLineColor,this.wh.Vt=s.baseLineWidth,this.wh.Pt=s.baseLineStyle)}}},t}(_i),Th=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.ph=function(){return this.Bt},i.prototype.H=function(t,e,n,r){var o=this.Bt;if(null!==o){t.save();var s=Math.max(1,Math.floor(e)),l=s%2/2,h=Math.round(o.Zs.x*e)+l,u=o.Zs.y*e;t.fillStyle=o.gh,t.beginPath();var c=Math.max(2,1.5*o.yh)*e;t.arc(h,u,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=o.kh,t.beginPath(),t.arc(h,u,o.st*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=o.Nh,t.beginPath(),t.arc(h,u,o.st*e+s/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},i}(),Lh=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function Xr(i,t,e,n){return function(r,o){if("transparent"===r)return r;var s=ue(r),l=s[3];return"rgba(".concat(s[0],", ").concat(s[1],", ").concat(s[2],", ").concat(o*l,")")}(i,e+(n-e)*t)}function Ur(i,t){for(var e,n=i%2600/2600,r=0,o=Lh;r<o.length;r++){var s=o[r];if(n>=s.xh&&n<=s.Ch){e=s;break}}mt(void 0!==e,"Last price animation internal logic error");var l,h,u,c=(n-e.xh)/(e.Ch-e.xh);return{kh:Xr(t,c,e.Dh,e.Ah),Nh:Xr(t,c,e.Bh,e.Lh),st:(l=c,h=e.Sh,u=e.Th,h+(u-h)*l)}}var Nh=function(){function i(t){this.zt=new Th,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}return i.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},i.prototype.Wh=function(){if(this.vt(),2===this.Vh.W().lastPriceAnimation){var t=performance.now(),e=this.Oh-t;if(e>0)return void(e<650&&(this.Oh+=2600));this.Fh=t,this.Oh=t+2600}},i.prototype.vt=function(){this.ft=!0},i.prototype.zh=function(){this.Eh=!0},i.prototype.yt=function(){return 0!==this.Vh.W().lastPriceAnimation},i.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},i.prototype.dt=function(t,e){return this.ft?(this.wt(t,e),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},i.prototype.wt=function(t,e){this.zt.Z(null);var n=this.Vh.jt().bt(),r=n.ss(),o=this.Vh.kt();if(null!==r&&null!==o){var s=this.Vh.jh(!0);if(!s.qh&&r.Uh(s.vs)){var l={x:n.At(s.vs),y:this.Vh.Ct().xt(s.et,o.St)},h=s.A,u=this.Vh.W().lineWidth,c=Ur(this.Hh(),h);this.zt.Z({gh:h,yh:u,kh:c.kh,Nh:c.Nh,st:c.st,Zs:l})}}},i.prototype.Ih=function(){var t=this.zt.ph();if(null!==t){var e=Ur(this.Hh(),t.gh);t.kh=e.kh,t.Nh=e.Nh,t.st=e.st}},i.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},i}();function It(i,t){return Yr(Math.min(Math.max(i,12),30)*t)}function zt(i,t){switch(i){case"arrowDown":case"arrowUp":return It(t,1);case"circle":return It(t,.8);case"square":return It(t,.7)}}function Zr(i){return vi(It(i,1))}function qr(i){return Math.max(It(i,.1),3)}function Jr(i,t,e,n,r){var o=zt("square",e),s=(o-1)/2,l=i-s,h=t-s;return n>=l&&n<=l+o&&r>=h&&r<=h+o}function $r(i,t,e,n,r){var o=(zt("arrowUp",r)-1)/2,s=(Yr(r/2)-1)/2;t.beginPath(),i?(t.moveTo(e-o,n),t.lineTo(e,n-o),t.lineTo(e+o,n),t.lineTo(e+s,n),t.lineTo(e+s,n+o),t.lineTo(e-s,n+o),t.lineTo(e-s,n)):(t.moveTo(e-o,n),t.lineTo(e,n+o),t.lineTo(e+o,n),t.lineTo(e+s,n),t.lineTo(e+s,n-o),t.lineTo(e-s,n-o),t.lineTo(e-s,n)),t.fill()}var zh=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.Bt=null,e.rh=new gt,e.R=-1,e.I="",e.Yh="",e}return S(t,i),t.prototype.Z=function(e){this.Bt=e},t.prototype.eh=function(e,n){this.R===e&&this.I===n||(this.R=e,this.I=n,this.Yh=ct(e,n),this.rh.ih())},t.prototype.$h=function(e,n){if(null===this.Bt||null===this.Bt.J)return null;for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var o=this.Bt.G[r];if(Hh(o,e,n))return{Kh:o.Xh,Zh:o.Zh}}return null},t.prototype.Y=function(e,n,r){if(null!==this.Bt&&null!==this.Bt.J){e.textBaseline="middle",e.font=this.Yh;for(var o=this.Bt.J.from;o<this.Bt.J.to;o++){var s=this.Bt.G[o];void 0!==s.Gt&&(s.Gt.Ht=this.rh.Qt(e,s.Gt.Jh),s.Gt.Yt=this.R),Gh(s,e)}}},t}(Lt);function Gh(i,t){t.fillStyle=i.A,void 0!==i.Gt&&t.fillText(i.Gt.Jh,i.tt-i.Gt.Ht/2,i.Gt.it),function(e,n){if(0!==e.hs)switch(e.Gh){case"arrowDown":return void $r(!1,n,e.tt,e.it,e.hs);case"arrowUp":return void $r(!0,n,e.tt,e.it,e.hs);case"circle":return r=n,o=e.tt,s=e.it,h=(zt("circle",e.hs)-1)/2,r.beginPath(),r.arc(o,s,h,0,2*Math.PI,!1),void r.fill();case"square":!function(r,o,s,l){var h=zt("square",l),u=(h-1)/2;r.fillRect(o-u,s-u,h,h)}(n,e.tt,e.it,e.hs)}var r,o,s,h}(i,t)}function Hh(i,t,e){return!(void 0===i.Gt||(n=i.tt,r=i.Gt.it,o=i.Gt.Ht,s=i.Gt.Yt,l=t,h=e,u=s/2,!(l>=n&&l<=n+o&&h>=r-u&&h<=r+u)))||function(n,r,o){if(0===n.hs)return!1;switch(n.Gh){case"arrowDown":case"arrowUp":return function Ih(i,t,e,n,r,o){return Jr(t,e,n,r,o)}(0,n.tt,n.it,n.hs,r,o);case"circle":return function(s,l,h,u,c){var d=2+zt("circle",h)/2,f=s-u,p=l-c;return Math.sqrt(f*f+p*p)<=d}(n.tt,n.it,n.hs,r,o);case"square":return Jr(n.tt,n.it,n.hs,r,o)}}(i,t,e);var n,r,o,s,l,h,u}function Yh(i,t,e,n,r,o,s,l,h){var u=j(e)?e:e.close,c=j(e)?e:e.high,d=j(e)?e:e.low,f=j(t.size)?Math.max(t.size,0):1,p=Zr(l.ws())*f,m=p/2;switch(i.hs=p,t.position){case"inBar":return i.it=s.xt(u,h),void(void 0!==i.Gt&&(i.Gt.it=i.it+m+o+.6*r));case"aboveBar":return i.it=s.xt(c,h)-m-n.Qh,void 0!==i.Gt&&(i.Gt.it=i.it-m-.6*r,n.Qh+=1.2*r),void(n.Qh+=p+o);case"belowBar":return i.it=s.xt(d,h)+m+n.tr,void 0!==i.Gt&&(i.Gt.it=i.it+m+o+.6*r,n.tr+=1.2*r),void(n.tr+=p+o)}}var Wh=function(){function i(t,e){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new zh,this.Vh=t,this.pi=e,this.Bt={G:[],J:null}}return i.prototype.vt=function(t){this.ft=!0,this.nr=!0,"data"===t&&(this.ir=!0)},i.prototype.dt=function(t,e,n){if(!this.Vh.yt())return null;this.ft&&this.Jn();var r=this.pi.W().layout;return this.zt.eh(r.fontSize,r.fontFamily),this.zt.Z(this.Bt),this.zt},i.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var t=this.pi.bt().ws(),e=qr(t),n=1.5*Zr(t)+2*e;this.sr={above:n,below:n}}else this.sr=null;this.nr=!1}return this.sr},i.prototype.Jn=function(){var t=this.Vh.Ct(),e=this.pi.bt(),n=this.Vh.rr();this.ir&&(this.Bt.G=n.map(function(m){return{rt:m.time,tt:0,it:0,hs:0,Gh:m.shape,A:m.color,Xh:m.Xh,Zh:m.id,Gt:void 0}}),this.ir=!1);var r=this.pi.W().layout;this.Bt.J=null;var o=e.ss();if(null!==o){var s=this.Vh.kt();if(null!==s&&0!==this.Bt.G.length){var l=NaN,h=qr(e.ws()),u={Qh:h,tr:h};this.Bt.J=pi(this.Bt.G,o,!0);for(var c=this.Bt.J.from;c<this.Bt.J.to;c++){var d=n[c];d.time!==l&&(u.Qh=h,u.tr=h,l=d.time);var f=this.Bt.G[c];f.tt=e.At(d.time),void 0!==d.text&&d.text.length>0&&(f.Gt={Jh:d.text,it:0,Ht:0,Yt:0});var p=this.Vh.er(d.time);null!==p&&Yh(f,d,p,u,r.fontSize,h,t,e,s.St)}this.ft=!1}}},i}(),jh=function(i){function t(e){return i.call(this,e)||this}return S(t,i),t.prototype.bh=function(e,n){var r=this.wh;r.yt=!1;var o=this.Kn.W();if(o.priceLineVisible&&this.Kn.yt()){var s=this.Kn.jh(0===o.priceLineSource);s.qh||(r.yt=!0,r.it=s.ti,r.A=this.Kn.ur(s.A),r.Ht=n,r.Yt=e,r.Vt=o.priceLineWidth,r.Pt=o.priceLineStyle)}},t}(_i),Xh=function(i){function t(e){var n=i.call(this)||this;return n.Rt=e,n}return S(t,i),t.prototype.vi=function(e,n,r){e.yt=!1,n.yt=!1;var o=this.Rt;if(o.yt()){var s=o.W(),l=s.lastValueVisible,h=""!==o.ar(),u=0===s.seriesLastValueMode,c=o.jh(!1);if(!c.qh){l&&(e.Gt=this.lr(c,l,u),e.yt=0!==e.Gt.length),(h||u)&&(n.Gt=this.cr(c,l,h,u),n.yt=n.Gt.length>0);var d=o.ur(c.A),f=de(d);r.t=f.t,r.A=f.i,r.ti=c.ti,n.Tt=o.jt().Dt(c.ti/o.Ct().Yt()),e.Tt=d}}},t.prototype.cr=function(e,n,r,o){var s="",l=this.Rt.ar();return r&&0!==l.length&&(s+="".concat(l," ")),n&&o&&(s+=this.Rt.Ct().vr()?e._r:e.dr),s.trim()},t.prototype.lr=function(e,n,r){return n?r?this.Rt.Ct().vr()?e.dr:e._r:e.Gt:""},t}(di),K=function(){function i(t,e){this.wr=t,this.Mr=e}return i.prototype.br=function(t){return null!==t&&this.wr===t.wr&&this.Mr===t.Mr},i.prototype.mr=function(){return new i(this.wr,this.Mr)},i.prototype.pr=function(){return this.wr},i.prototype.gr=function(){return this.Mr},i.prototype.yr=function(){return this.Mr-this.wr},i.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},i.prototype.Nn=function(t){return null===t?this:new i(Math.min(this.pr(),t.pr()),Math.max(this.gr(),t.gr()))},i.prototype.kr=function(t){if(j(t)&&this.Mr-this.wr!=0){var e=.5*(this.Mr+this.wr),n=this.Mr-e,r=this.wr-e;r*=t,this.Mr=e+(n*=t),this.wr=e+r}},i.prototype.Nr=function(t){j(t)&&(this.Mr+=t,this.wr+=t)},i.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},i.Sr=function(t){return null===t?null:new i(t.minValue,t.maxValue)},i}(),Kr=function(){function i(t,e){this.Tr=t,this.Dr=e||null}return i.prototype.Ar=function(){return this.Tr},i.prototype.Br=function(){return this.Dr},i.prototype.Cr=function(){return null===this.Tr?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},i.Sr=function(t){return null===t?null:new i(K.Sr(t.priceRange),t.margins)},i}(),Uh=function(i){function t(e,n){var r=i.call(this,e)||this;return r.Lr=n,r}return S(t,i),t.prototype.bh=function(e,n){var r=this.wh;r.yt=!1;var o=this.Lr.W();if(this.Kn.yt()&&o.lineVisible){var s=this.Lr.Er();null!==s&&(r.yt=!0,r.it=s,r.A=o.color,r.Ht=n,r.Yt=e,r.Vt=o.lineWidth,r.Pt=o.lineStyle)}},t}(_i),Zh=function(i){function t(e,n){var r=i.call(this)||this;return r.Vh=e,r.Lr=n,r}return S(t,i),t.prototype.vi=function(e,n,r){e.yt=!1,n.yt=!1;var o=this.Lr.W(),l=""!==o.title,h=this.Vh;if(o.axisLabelVisible&&h.yt()){var u=this.Lr.Er();if(null!==u){l&&(n.Gt=o.title,n.yt=!0),n.Tt=h.jt().Dt(u/h.Ct().Yt()),e.Gt=h.Ct().Fr(o.price),e.yt=!0;var c=de(o.color);r.t=c.t,r.A=c.i,r.ti=u}}},t}(di),qh=function(){function i(t,e){this.Vh=t,this.zi=e,this.Or=new Uh(t,this),this.uh=new Zh(t,this),this.Vr=new jr(this.uh,t,t.jt())}return i.prototype.Pr=function(t){A(this.zi,t),this.vt(),this.Vh.jt().Wr()},i.prototype.W=function(){return this.zi},i.prototype.tn=function(){return[this.Or,this.Vr]},i.prototype.zr=function(){return this.uh},i.prototype.vt=function(){this.Or.vt(),this.uh.vt()},i.prototype.Er=function(){var t=this.Vh,e=t.Ct();if(t.jt().bt().wi()||e.wi())return null;var n=t.kt();return null===n?null:e.xt(this.zi.price,n.St)},i}(),Jh=function(i){function t(e){var n=i.call(this)||this;return n.pi=e,n}return S(t,i),t.prototype.jt=function(){return this.pi},t}(fi),vt={Ds:"",Hs:"",Us:""},$h=function(){function i(t){this.Vh=t}return i.prototype.As=function(t,e){var n=this.Vh.Rr(),r=this.Vh.W();switch(n){case"Line":return this.Ir(r,t,e);case"Area":return this.jr(r);case"Baseline":return this.qr(r,t,e);case"Bar":return this.Ur(r,t,e);case"Candlestick":return this.Hr(r,t,e);case"Histogram":return this.Yr(r,t,e)}throw new Error("Unknown chart style")},i.prototype.Ur=function(t,e,n){var r=D({},vt),o=t.upColor,s=t.downColor,l=o,h=s,u=_(this.$r(e,n)),c=Bt(u.St[0])<=Bt(u.St[3]);return void 0!==u.A?(r.Ds=u.A,r.Hs=u.A):(r.Ds=c?o:s,r.Hs=c?l:h),r},i.prototype.Hr=function(t,e,n){var r,o,s,l=D({},vt),h=t.upColor,u=t.downColor,c=t.borderUpColor,d=t.borderDownColor,f=t.wickUpColor,p=t.wickDownColor,m=_(this.$r(e,n)),g=Bt(m.St[0])<=Bt(m.St[3]);return l.Ds=null!==(r=m.A)&&void 0!==r?r:g?h:u,l.Hs=null!==(o=m.Tt)&&void 0!==o?o:g?c:d,l.Us=null!==(s=m.qs)&&void 0!==s?s:g?f:p,l},i.prototype.jr=function(t){return D(D({},vt),{Ds:t.lineColor})},i.prototype.qr=function(t,e,n){var r=_(this.$r(e,n)).St[3]>=t.baseValue.price;return D(D({},vt),{Ds:r?t.topLineColor:t.bottomLineColor})},i.prototype.Ir=function(t,e,n){var r,o=_(this.$r(e,n));return D(D({},vt),{Ds:null!==(r=o.A)&&void 0!==r?r:t.color})},i.prototype.Yr=function(t,e,n){var r=D({},vt),o=_(this.$r(e,n));return r.Ds=void 0!==o.A?o.A:t.color,r},i.prototype.$r=function(t,e){return void 0!==e?e.St:this.Vh.an().Kr(t)},i}(),Kh=function(){function i(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return i.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},i.prototype.Qr=function(){return this.hs()>0?this.te(0):null},i.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},i.prototype.hs=function(){return this.Xr.length},i.prototype.wi=function(){return 0===this.hs()},i.prototype.Uh=function(t){return null!==this.ie(t,0)},i.prototype.Kr=function(t){return this.ne(t)},i.prototype.ne=function(t,e){void 0===e&&(e=0);var n=this.ie(t,e);return null===n?null:D(D({},this.se(n)),{vs:this.te(n)})},i.prototype.fs=function(){return this.Xr},i.prototype.he=function(t,e,n){if(this.wi())return null;for(var r=null,o=0,s=n;o<s.length;o++)r=be(r,this.re(t,e,s[o]));return r},i.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},i.prototype.te=function(t){return this.Xr[t].vs},i.prototype.se=function(t){return this.Xr[t]},i.prototype.ie=function(t,e){var n=this.ee(t);if(null===n&&0!==e)switch(e){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return n},i.prototype.ue=function(t){var e=this.oe(t);return e>0&&(e-=1),e!==this.Xr.length&&this.te(e)<t?e:null},i.prototype.ae=function(t){var e=this.le(t);return e!==this.Xr.length&&t<this.te(e)?e:null},i.prototype.ee=function(t){var e=this.oe(t);return e===this.Xr.length||t<this.Xr[e].vs?null:e},i.prototype.oe=function(t){return Nt(this.Xr,t,function(e,n){return e.vs<n})},i.prototype.le=function(t){return zr(this.Xr,t,function(e,n){return n.vs>e})},i.prototype.fe=function(t,e,n){for(var r=null,o=t;o<e;o++){var s=this.Xr[o].St[n];Number.isNaN(s)||(null===r?r={ce:s,ve:s}:(s<r.ce&&(r.ce=s),s>r.ve&&(r.ve=s)))}return r},i.prototype.re=function(t,e,n){if(this.wi())return null;var r=null,o=_(this.Qr()),s=_(this.un()),l=Math.max(t,o),h=Math.min(e,s),u=30*Math.ceil(l/30),c=Math.max(u,30*Math.floor(h/30)),d=this.oe(l),f=this.le(Math.min(h,u,e));r=be(r,this.fe(d,f,n));var p=this.Zr.get(n);void 0===p&&this.Zr.set(n,p=new Map);for(var m=Math.max(u+1,l);m<c;m+=30){var g=Math.floor(m/30),v=p.get(g);if(void 0===v){var y=this.oe(30*g),w=this.le(30*(g+1)-1);v=this.fe(y,w,n),p.set(g,v)}r=be(r,v)}return d=this.oe(c),f=this.le(h),be(r,this.fe(d,f,n))},i}();function be(i,t){return null===i?t:null===t?i:{ce:Math.min(i.ce,t.ce),ve:Math.max(i.ve,t.ve)}}var yi=function(i){function t(e,n,r){var o=i.call(this,e)||this;o.Bt=new Kh,o.Or=new jh(o),o._e=[],o.de=new Bh(o),o.we=null,o.Me=null,o.be=[],o.me=[],o.pe=null,o.zi=n,o.ge=r;var s=new Xh(o);return o.Ei=[s],o.Vr=new jr(s,o,e),"Area"!==r&&"Line"!==r&&"Baseline"!==r||(o.we=new Nh(o)),o.ye(),o.ke(),o}return S(t,i),t.prototype.g=function(){null!==this.pe&&clearTimeout(this.pe)},t.prototype.ur=function(e){return this.zi.priceLineColor||e},t.prototype.jh=function(e){var n={qh:!0},r=this.Ct();if(this.jt().bt().wi()||r.wi()||this.Bt.wi())return n;var o,s,l=this.jt().bt().ss(),h=this.kt();if(null===l||null===h)return n;if(e){var u=this.Bt.Gr();if(null===u)return n;o=u,s=u.vs}else{var c=this.Bt.ne(l.jn(),-1);if(null===c||null===(o=this.Bt.Kr(c.vs)))return n;s=c.vs}var d=o.St[3],f=this.ls().As(s,{St:o}),p=r.xt(d,h.St);return{qh:!1,et:d,Gt:r.Mi(d,h.St),_r:r.Fr(d),dr:r.Ne(d,h.St),A:f.Ds,ti:p,vs:s}},t.prototype.ls=function(){return null!==this.Me||(this.Me=new $h(this)),this.Me},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(e){var n=e.priceScaleId;void 0!==n&&n!==this.zi.priceScaleId&&this.jt().xe(this,n),A(this.zi,e),null!==this.ki&&void 0!==e.scaleMargins&&this.ki.Pr({scaleMargins:e.scaleMargins}),void 0!==e.priceFormat&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},t.prototype.Z=function(e,n){this.Bt.Z(e),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),null!==this.we&&(n&&n.Ae?this.we.Wh():0===e.length&&this.we.Ph());var r=this.jt().oh(this);this.jt().Be(r),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.Le=function(e){this.be=e.map(function(r){return D({},r)}),this.De();var n=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(n),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.rr=function(){return this.me},t.prototype.Ee=function(e){var n=new qh(this,e);return this._e.push(n),this.jt().Se(this),n},t.prototype.Fe=function(e){var n=this._e.indexOf(e);-1!==n&&this._e.splice(n,1),this.jt().Se(this)},t.prototype.Rr=function(){return this.ge},t.prototype.kt=function(){var e=this.Oe();return null===e?null:{St:e.St[3],Ve:e.rt}},t.prototype.Oe=function(){var e=this.jt().bt().ss();if(null===e)return null;var n=e.In();return this.Bt.ne(n,1)},t.prototype.an=function(){return this.Bt},t.prototype.er=function(e){var n=this.Bt.Kr(e);return null===n?null:"Bar"===this.ge||"Candlestick"===this.ge?{open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3]}:n.St[3]},t.prototype.Pe=function(e){var n=this,r=this.we;return null!==r&&r.yt()?(null===this.pe&&r.Rh()&&(this.pe=setTimeout(function(){n.pe=null,n.jt().We()},0)),r.zh(),[r]):[]},t.prototype.tn=function(){var e=[];this.ze()||e.push(this.de);for(var n=0,r=this._e;n<r.length;n++)e.push.apply(e,r[n].tn());return e.push(this.Hi,this.Or,this.Vr,this.Ri),e},t.prototype.nn=function(e,n){if(n!==this.ki&&!this.ze())return[];for(var r=Vr([],this.Ei,!0),o=0,s=this._e;o<s.length;o++)r.push(s[o].zr());return r},t.prototype.Re=function(e,n){var r=this;if(void 0!==this.zi.autoscaleInfoProvider){var o=this.zi.autoscaleInfoProvider(function(){var s=r.Ie(e,n);return null===s?null:s.Cr()});return Kr.Sr(o)}return this.Ie(e,n)},t.prototype.je=function(){return this.zi.priceFormat.minMove},t.prototype.qe=function(){return this.Ue},t.prototype.hn=function(){var e;this.Hi.vt(),this.Ri.vt();for(var n=0,r=this.Ei;n<r.length;n++)r[n].vt();for(var o=0,s=this._e;o<s.length;o++)s[o].vt();this.Or.vt(),this.de.vt(),null===(e=this.we)||void 0===e||e.vt()},t.prototype.Ct=function(){return _(i.prototype.Ct.call(this))},t.prototype.gt=function(e){if("Line"!==this.ge&&"Area"!==this.ge&&"Baseline"!==this.ge||!this.zi.crosshairMarkerVisible)return null;var n=this.Bt.Kr(e);return null===n?null:{et:n.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(e)}},t.prototype.ar=function(){return this.zi.title},t.prototype.yt=function(){return this.zi.visible},t.prototype.ze=function(){return!ge(this.Ct().Ke())},t.prototype.Ie=function(e,n){if(!Tt(e)||!Tt(n)||this.Bt.wi())return null;var o=this.Bt.he(e,n,"Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge||"Histogram"===this.ge?[3]:[2,1]),s=null!==o?new K(o.ce,o.ve):null;if("Histogram"===this.Rr()){var l=this.zi.base,h=new K(l,l);s=null!==s?s.Nn(h):h}return new Kr(s,this.Ri.hr())},t.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},t.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var e=this.zi.crosshairMarkerBorderColor;if(0!==e.length)return e}return null},t.prototype.$e=function(e){switch(this.ge){case"Line":case"Area":case"Baseline":var n=this.zi.crosshairMarkerBackgroundColor;if(0!==n.length)return n}return this.ls().As(e).Ds},t.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new gh(this.zi.priceFormat.precision);break;case"percent":this.Ue=new Br(this.zi.priceFormat.precision);break;default:var e=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new ve(e,this.zi.priceFormat.minMove*e)}null!==this.ki&&this.ki.Xe()},t.prototype.De=function(){var e=this,n=this.jt().bt();if(n.wi()||0===this.Bt.hs())this.me=[];else{var r=_(this.Bt.Qr());this.me=this.be.map(function(o,s){var l=_(n.Ze(o.time,!0));return{time:_(e.Bt.ne(l,l<r?1:-1)).vs,position:o.position,shape:o.shape,color:o.color,id:o.id,Xh:s,text:o.text,size:o.size}})}},t.prototype.ke=function(){switch(this.Ri=new Wh(this,this.jt()),this.ge){case"Bar":this.Hi=new Ch(this,this.jt());break;case"Candlestick":this.Hi=new Oh(this,this.jt());break;case"Line":this.Hi=new Fh(this,this.jt());break;case"Area":this.Hi=new bh(this,this.jt());break;case"Baseline":this.Hi=new Dh(this,this.jt());break;case"Histogram":this.Hi=new Vh(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},t}(Jh),Qh=function(){function i(t){this.zi=t}return i.prototype.Je=function(t,e,n){var r=t;if(0===this.zi.mode)return r;var o=n.ji(),s=o.kt();if(null===s)return r;var l=o.xt(t,s),h=n.Ge().filter(function(c){return c instanceof yi}).reduce(function(c,d){if(n.lh(d)||!d.yt())return c;var f=d.Ct(),p=d.an();if(f.wi()||!p.Uh(e))return c;var m=p.Kr(e);if(null===m)return c;var g=Bt(d.kt());return c.concat([f.xt(m.St[3],g.St)])},[]);return 0===h.length?r:(h.sort(function(c,d){return Math.abs(c-l)-Math.abs(d-l)}),o.qi(h[0],s))},i}(),tc=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,r){var u,o=this;if(null!==this.Bt){var s=Math.max(1,Math.floor(e));t.lineWidth=s;var l=Math.ceil(this.Bt.Ot*e),h=Math.ceil(this.Bt.Ft*e);(u=t).save(),u.lineWidth%2&&u.translate(.5,.5),function(){var u=_(o.Bt);if(u.Qe){t.strokeStyle=u.tu,ht(t,u.iu),t.beginPath();for(var c=0,d=u.nu;c<d.length;c++){var p=Math.round(d[c].su*e);t.moveTo(p,-s),t.lineTo(p,l+s)}t.stroke()}if(u.hu){t.strokeStyle=u.ru,ht(t,u.eu),t.beginPath();for(var m=0,g=u.uu;m<g.length;m++){var y=Math.round(g[m].su*e);t.moveTo(-s,y),t.lineTo(h+s,y)}t.stroke()}}(),u.restore()}},i}(),ec=function(){function i(t){this.zt=new tc,this.ft=!0,this.Di=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){if(this.ft){var n=this.Di.jt().W().grid,r={Ot:t,Ft:e,hu:n.horzLines.visible,Qe:n.vertLines.visible,ru:n.horzLines.color,tu:n.vertLines.color,eu:n.horzLines.style,iu:n.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(r),this.ft=!1}return this.zt},i}(),ic=function(){function i(t){this.Hi=new ec(t)}return i.prototype.ou=function(){return this.Hi},i}(),bi={lu:4,fu:1e-4};function _t(i,t){var e=100*(i-t)/t;return t<0?-e:e}function nc(i,t){var e=_t(i.pr(),t),n=_t(i.gr(),t);return new K(e,n)}function Gt(i,t){var e=100*(i-t)/t+100;return t<0?-e:e}function rc(i,t){var e=Gt(i.pr(),t),n=Gt(i.gr(),t);return new K(e,n)}function we(i,t){var e=Math.abs(i);if(e<1e-15)return 0;var n=Hr(e+t.fu)+t.lu;return i<0?-n:n}function Ht(i,t){var e=Math.abs(i);if(e<1e-15)return 0;var n=Math.pow(10,e-t.lu)-t.fu;return i<0?-n:n}function Yt(i,t){if(null===i)return null;var e=we(i.pr(),t),n=we(i.gr(),t);return new K(e,n)}function Ce(i,t){if(null===i)return null;var e=Ht(i.pr(),t),n=Ht(i.gr(),t);return new K(e,n)}function wi(i){if(null===i)return bi;var t=Math.abs(i.gr()-i.pr());if(t>=1||t<1e-15)return bi;var e=Math.ceil(Math.abs(Math.log10(t))),n=bi.lu+e;return{lu:n,fu:1/Math.pow(10,n)}}var Qr,Ci=function(){function i(t,e){if(this.cu=t,this.vu=e,function(r){if(r<0)return!1;for(var o=r;o>1;o/=10)if(o%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var n=this.cu;1!==n;){if(n%2==0)this._u.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this._u.push(2,2.5),n/=5}if(this._u.length>100)throw new Error("something wrong with base")}}}return i.prototype.du=function(t,e,n){for(var l=0===this.cu?0:1/this.cu,h=Math.pow(10,Math.max(0,Math.ceil(Hr(t-e)))),u=0,c=this.vu[0];;){var d=ye(h,l,1e-14)&&h>l+1e-14,f=ye(h,n*c,1e-14),p=ye(h,1,1e-14);if(!(d&&f&&p))break;h/=c,c=this.vu[++u%this.vu.length]}if(h<=l+1e-14&&(h=l),h=Math.max(1,h),this._u.length>0&&Math.abs(h-1)<1e-14)for(u=0,c=this._u[0];ye(h,n*c,1e-14)&&h>l+1e-14;)h/=c,c=this._u[++u%this._u.length];return h},i}(),to=function(){function i(t,e,n,r){this.wu=[],this._i=t,this.cu=e,this.Mu=n,this.bu=r}return i.prototype.du=function(t,e){if(t<e)throw new Error("high < low");var n=this._i.Yt(),r=(t-e)*this.mu()/n,o=new Ci(this.cu,[2,2.5,2]),s=new Ci(this.cu,[2,2,2.5]),l=new Ci(this.cu,[2.5,2,2]),h=[];return h.push(o.du(t,e,r),s.du(t,e,r),l.du(t,e,r)),function(u){if(u.length<1)throw Error("array is empty");for(var c=u[0],d=1;d<u.length;++d)u[d]<c&&(c=u[d]);return c}(h)},i.prototype.pu=function(){var t=this._i,e=t.kt();if(null!==e){var n=t.Yt(),r=this.Mu(n-1,e),o=this.Mu(0,e),s=this._i.W().entireTextOnly?this.gu()/2:0,l=s,h=n-1-s,u=Math.max(r,o),c=Math.min(r,o);if(u!==c){for(var d=this.du(u,c),f=u%d,p=u>=c?1:-1,m=null,g=0,v=u-(f+=f<0?d:0);v>c;v-=d){var y=this.bu(v,e,!0);null!==m&&Math.abs(y-m)<this.mu()||y<l||y>h||(g<this.wu.length?(this.wu[g].su=y,this.wu[g].yu=t.ku(v)):this.wu.push({su:y,yu:t.ku(v)}),g++,m=y,t.Nu()&&(d=this.du(v*p,c)))}this.wu.length=g}else this.wu=[]}else this.wu=[]},i.prototype.au=function(){return this.wu},i.prototype.gu=function(){return this._i.S()},i.prototype.mu=function(){return Math.ceil(2.5*this.gu())},i}();function eo(i){return i.slice().sort(function(t,e){return _(t.xi())-_(e.xi())})}!function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"}(Qr||(Qr={}));var io=new Br,no=new ve(100,1),oc=function(){function i(t,e,n,r){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new F,this.Fu=new F,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=no,this.Ru=wi(null),this.Iu=t,this.zi=e,this.ju=n,this.qu=r,this.Uu=new to(this,100,this.Hu.bind(this),this.Yu.bind(this))}return i.prototype.Ke=function(){return this.Iu},i.prototype.W=function(){return this.zi},i.prototype.Pr=function(t){if(A(this.zi,t),this.Xe(),void 0!==t.mode&&this.$u({mh:t.mode}),void 0!==t.scaleMargins){var e=z(t.scaleMargins.top),n=z(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1||e+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.Ku(),this.Pu=null}},i.prototype.Xu=function(){return this.zi.autoScale},i.prototype.Nu=function(){return 1===this.zi.mode},i.prototype.vr=function(){return 2===this.zi.mode},i.prototype.Zu=function(){return 3===this.zi.mode},i.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},i.prototype.$u=function(t){var e=this.mh(),n=null;void 0!==t._n&&(this.zi.autoScale=t._n),void 0!==t.mh&&(this.zi.mode=t.mh,2!==t.mh&&3!==t.mh||(this.zi.autoScale=!0),this.Tu.Du=!1),1===e.mh&&t.mh!==e.mh&&(function(o,s){if(null===o)return!1;var l=Ht(o.pr(),s),h=Ht(o.gr(),s);return isFinite(l)&&isFinite(h)}(this.Tr,this.Ru)?null!==(n=Ce(this.Tr,this.Ru))&&this.Gu(n):this.zi.autoScale=!0),1===t.mh&&t.mh!==e.mh&&null!==(n=Yt(this.Tr,this.Ru))&&this.Gu(n);var r=e.mh!==this.zi.mode;r&&(2===e.mh||this.vr())&&this.Xe(),r&&(3===e.mh||this.Zu())&&this.Xe(),void 0!==t.Ju&&e.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(e,this.mh())},i.prototype.ta=function(){return this.Fu},i.prototype.S=function(){return this.ju.fontSize},i.prototype.Yt=function(){return this.xu},i.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},i.prototype.na=function(){if(this.Cu)return this.Cu;var t=this.Yt()-this.sa()-this.ha();return this.Cu=t,t},i.prototype.Ar=function(){return this.ra(),this.Tr},i.prototype.Gu=function(t,e){var n=this.Tr;(e||null===n&&null!==t||null!==n&&!n.br(t))&&(this.Pu=null,this.Tr=t)},i.prototype.wi=function(){return this.ra(),0===this.xu||!this.Tr||this.Tr.wi()},i.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},i.prototype.xt=function(t,e){return this.vr()?t=_t(t,e):this.Zu()&&(t=Gt(t,e)),this.Yu(t,e)},i.prototype.us=function(t,e,n){this.ra();for(var r=this.ha(),o=_(this.Ar()),s=o.pr(),l=o.gr(),h=this.na()-1,u=this.Ju(),c=h/(l-s),d=void 0===n?0:n.from,f=void 0===n?t.length:n.to,p=this.ua(),m=d;m<f;m++){var g=t[m],v=g.et;if(!isNaN(v)){var y=v;null!==p&&(y=p(g.et,e));var w=r+c*(y-s);g.it=u?w:this.xu-1-w}}},i.prototype.Ss=function(t,e,n){this.ra();for(var r=this.ha(),o=_(this.Ar()),s=o.pr(),l=o.gr(),h=this.na()-1,u=this.Ju(),c=h/(l-s),d=void 0===n?0:n.from,f=void 0===n?t.length:n.to,p=this.ua(),m=d;m<f;m++){var g=t[m],v=g.open,y=g.high,w=g.low,C=g.close;null!==p&&(v=p(g.open,e),y=p(g.high,e),w=p(g.low,e),C=p(g.close,e));var E=r+c*(v-s),V=u?E:this.xu-1-E;g.xs=V,E=r+c*(y-s),g.ys=V=u?E:this.xu-1-E,E=r+c*(w-s),g.ks=V=u?E:this.xu-1-E,E=r+c*(C-s),g.Cs=V=u?E:this.xu-1-E}},i.prototype.qi=function(t,e){var n=this.Hu(t,e);return this.aa(n,e)},i.prototype.aa=function(t,e){var r,o,n=t;return this.vr()?(r=n,(o=e)<0&&(r=-r),n=r/100*o+o):this.Zu()&&(n=function(r,o){return r-=100,o<0&&(r=-r),r/100*o+o}(n,e)),n},i.prototype.Ge=function(){return this.Ou},i.prototype.oa=function(){if(this.Vu)return this.Vu;for(var t=[],e=0;e<this.Ou.length;e++){var n=this.Ou[e];null===n.xi()&&n.Ci(e+1),t.push(n)}return t=eo(t),this.Vu=t,this.Vu},i.prototype.la=function(t){-1===this.Ou.indexOf(t)&&(this.Ou.push(t),this.Xe(),this.fa())},i.prototype.ca=function(t){var e=this.Ou.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.Ou.splice(e,1),0===this.Ou.length&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},i.prototype.kt=function(){for(var t=null,e=0,n=this.Ou;e<n.length;e++){var r=n[e].kt();null!==r&&(null===t||r.Ve<t.Ve)&&(t=r)}return null===t?null:t.St},i.prototype.Ju=function(){return this.zi.invertScale},i.prototype.au=function(){var t=null===this.kt();if(null!==this.Pu&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var e=this.Uu.au();return this.Pu={au:e,va:t},this.Eu.m(),e},i.prototype._a=function(){return this.Eu},i.prototype.da=function(t){this.vr()||this.Zu()||null===this.Wu&&null===this.Su&&(this.wi()||(this.Wu=this.xu-t,this.Su=_(this.Ar()).mr()))},i.prototype.wa=function(t){if(!this.vr()&&!this.Zu()&&null!==this.Wu){this.$u({_n:!1}),(t=this.xu-t)<0&&(t=0);var e=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),n=_(this.Su).mr();e=Math.max(e,.1),n.kr(e),this.Gu(n)}},i.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},i.prototype.ba=function(t){this.Xu()||null===this.zu&&null===this.Su&&(this.wi()||(this.zu=t,this.Su=_(this.Ar()).mr()))},i.prototype.ma=function(t){if(!this.Xu()&&null!==this.zu){var e=_(this.Ar()).yr()/(this.na()-1),n=t-this.zu;this.Ju()&&(n*=-1);var r=n*e,o=_(this.Su).mr();o.Nr(r),this.Gu(o,!0),this.Pu=null}},i.prototype.pa=function(){this.Xu()||null!==this.zu&&(this.zu=null,this.Su=null)},i.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},i.prototype.Mi=function(t,e){switch(this.zi.mode){case 2:return this.qe().format(_t(t,e));case 3:return this.qe().format(Gt(t,e));default:return this.ga(t)}},i.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},i.prototype.Fr=function(t){return this.ga(t,_(this.ya()).qe())},i.prototype.Ne=function(t,e){return t=_t(t,e),io.format(t)},i.prototype.ka=function(){return this.Ou},i.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},i.prototype.hn=function(){this.Ou.forEach(function(t){return t.hn()})},i.prototype.Xe=function(){this.Pu=null;var t=this.ya(),e=100;null!==t&&(e=Math.round(1/t.je())),this.Ue=no,this.vr()?(this.Ue=io,e=100):this.Zu()?(this.Ue=new ve(100,1),e=100):null!==t&&(this.Ue=t.qe()),this.Uu=new to(this,e,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},i.prototype.fa=function(){this.Vu=null},i.prototype.ya=function(){return this.Ou[0]||null},i.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},i.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},i.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},i.prototype.Ku=function(){this.Cu=null},i.prototype.Yu=function(t,e){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?we(t,this.Ru):t;var n=_(this.Ar()),r=this.ha()+(this.na()-1)*(t-n.pr())/n.yr();return this.ea(r)},i.prototype.Hu=function(t,e){if(this.ra(),this.wi())return 0;var n=this.ea(t),r=_(this.Ar()),o=r.pr()+r.yr()*((n-this.ha())/(this.na()-1));return this.Nu()?Ht(o,this.Ru):o},i.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},i.prototype.xa=function(){var t=this.Tu.Au;if(null!==t){for(var e,n,r=null,o=0,s=0,l=0,h=this.ka();l<h.length;l++){var u=h[l];if(u.yt()){var c=u.kt();if(null!==c){var d=u.Re(t.In(),t.jn()),f=d&&d.Ar();if(null!==f){switch(this.zi.mode){case 1:f=Yt(f,this.Ru);break;case 2:f=nc(f,c.St);break;case 3:f=rc(f,c.St)}if(r=null===r?f:r.Nn(_(f)),null!==d){var p=d.Br();null!==p&&(o=Math.max(o,p.above),s=Math.max(o,p.below))}}}}}if(o===this.Bu&&s===this.Lu||(this.Bu=o,this.Lu=s,this.Pu=null,this.Ku()),null!==r){if(r.pr()===r.gr()){var m=this.ya(),g=5*(null===m||this.vr()||this.Zu()?1:m.je());this.Nu()&&(r=Ce(r,this.Ru)),r=new K(r.pr()-g,r.gr()+g),this.Nu()&&(r=Yt(r,this.Ru))}if(this.Nu()){var v=Ce(r,this.Ru),y=wi(v);if((e=y).lu!==(n=this.Ru).lu||e.fu!==n.fu){var w=null!==this.Su?Ce(this.Su,this.Ru):null;this.Ru=y,r=Yt(v,y),null!==w&&(this.Su=Yt(w,y))}}this.Gu(r)}else null===this.Tr&&(this.Gu(new K(-.5,.5)),this.Ru=wi(null));this.Tu.Du=!0}},i.prototype.ua=function(){var t=this;return this.vr()?_t:this.Zu()?Gt:this.Nu()?function(e){return we(e,t.Ru)}:null},i.prototype.ga=function(t,e){return void 0===this.qu.priceFormatter?(void 0===e&&(e=this.qe()),e.format(t)):this.qu.priceFormatter(t)},i}(),sc=function(){function i(t,e){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new F,this.Da=t,this.pi=e,this.Aa=new ic(this);var n=e.W();this.Ba=this.La("left",n.leftPriceScale),this.Ea=this.La("right",n.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(n)}return i.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var e=0,n=Array.from(this.Ca.values());e<n.length;e++){var r=_(n[e][0].Ct());r.Pr(t.overlayPriceScales),t.localization&&r.Xe()}},i.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?z(this.Ca.get(t))[0].Ct():null},i.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach(function(t){t.g&&t.g()}),this.Ta.m()},i.prototype.Wa=function(){return this.Sa},i.prototype.za=function(t){this.Sa=t},i.prototype.jt=function(){return this.pi},i.prototype.Ht=function(){return this.hh},i.prototype.Yt=function(){return this.xu},i.prototype.Ra=function(t){this.hh=t,this.Ia()},i.prototype.ia=function(t){var e=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach(function(n){if(e.lh(n)){var r=n.Ct();null!==r&&r.ia(t)}}),this.Ia()},i.prototype.Ge=function(){return this.Ou},i.prototype.lh=function(t){var e=t.Ct();return null===e||this.Ba!==e&&this.Ea!==e},i.prototype.la=function(t,e,n){var r=void 0!==n?n:this.qa().ja+1;this.Ua(t,e,r)},i.prototype.ca=function(t){var e=this.Ou.indexOf(t);mt(-1!==e,"removeDataSource: invalid data source"),this.Ou.splice(e,1);var n=_(t.Ct()).Ke();if(this.Ca.has(n)){var r=z(this.Ca.get(n)),o=r.indexOf(t);-1!==o&&(r.splice(o,1),0===r.length&&this.Ca.delete(n))}var s=t.Ct();s&&s.Ge().indexOf(t)>=0&&s.ca(t),null!==s&&(s.fa(),this.Ha(s)),this.Vu=null},i.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},i.prototype.Ya=function(){return this.Ba},i.prototype.$a=function(){return this.Ea},i.prototype.Ka=function(t,e){t.da(e)},i.prototype.Xa=function(t,e){t.wa(e),this.Ia()},i.prototype.Za=function(t){t.Ma()},i.prototype.Ja=function(t,e){t.ba(e)},i.prototype.Ga=function(t,e){t.ma(e),this.Ia()},i.prototype.Qa=function(t){t.pa()},i.prototype.Ia=function(){this.Ou.forEach(function(t){t.hn()})},i.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&0!==this.Ea.Ge().length?t=this.Ea:this.pi.W().leftPriceScale.visible&&0!==this.Ba.Ge().length?t=this.Ba:0!==this.Ou.length&&(t=this.Ou[0].Ct()),null===t&&(t=this.Ea),t},i.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},i.prototype.Ha=function(t){null!==t&&t.Xu()&&this.io(t)},i.prototype.no=function(t){var e=this.Da.ss();t.$u({_n:!0}),null!==e&&t.Na(e),this.Ia()},i.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},i.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach(function(e){t.lh(e)&&t.Ha(e.Ct())}),this.Ia(),this.pi.Wr()},i.prototype.oa=function(){return null===this.Vu&&(this.Vu=eo(this.Ou)),this.Vu},i.prototype.ro=function(){return this.Ta},i.prototype.eo=function(){return this.Aa},i.prototype.io=function(t){var e=t.ka();if(e&&e.length>0&&!this.Da.wi()){var n=this.Da.ss();null!==n&&t.Na(n)}t.hn()},i.prototype.qa=function(){var t=this.oa();if(0===t.length)return{uo:0,ja:0};for(var e=0,n=0,r=0;r<t.length;r++){var o=t[r].xi();null!==o&&(o<e&&(e=o),o>n&&(n=o))}return{uo:e,ja:n}},i.prototype.Ua=function(t,e,n){var r=this.Va(e);if(null===r&&(r=this.La(e,this.pi.W().overlayPriceScales)),this.Ou.push(t),!ge(e)){var o=this.Ca.get(e)||[];o.push(t),this.Ca.set(e,o)}r.la(t),t.Si(r),t.Ci(n),this.Ha(r),this.Vu=null},i.prototype.Fa=function(t,e,n){e.mh!==n.mh&&this.io(t)},i.prototype.La=function(t,e){var n=D({visible:!0,autoScale:!0},N(e)),r=new oc(t,n,this.pi.W().layout,this.pi.W().localization);return r.ia(this.Yt()),r},i}(),ro=function(i){return i.getUTCFullYear()},oo=function(){function i(t,e){void 0===t&&(t="yyyy-MM-dd"),void 0===e&&(e="default"),this.ao=t,this.oo=e}return i.prototype.lo=function(t){return function ac(i,t,e){return t.replace(/yyyy/g,(n=i,$(ro(n),4))).replace(/yy/g,function(n){return $(ro(n)%100,2)}(i)).replace(/MMMM/g,function(n,r){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(r,{month:"long"})}(i,e)).replace(/MMM/g,function(n,r){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(r,{month:"short"})}(i,e)).replace(/MM/g,function(n){return $(n.getUTCMonth()+1,2)}(i)).replace(/dd/g,function(n){return $(n.getUTCDate(),2)}(i));var n}(t,this.ao,this.oo)},i}(),lc=function(){function i(t){this.fo=t||"%h:%m:%s"}return i.prototype.lo=function(t){return this.fo.replace("%h",$(t.getUTCHours(),2)).replace("%m",$(t.getUTCMinutes(),2)).replace("%s",$(t.getUTCSeconds(),2))},i}(),hc={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},cc=function(){function i(t){void 0===t&&(t={});var e=D(D({},hc),t);this.wo=new oo(e.co,e.do),this.Mo=new lc(e.vo),this.bo=e._o}return i.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},i}(),uc=function(){function i(t,e){void 0===e&&(e=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=e}return i.prototype.lo=function(t){var e=void 0===t.Co?new Date(1e3*t.So).getTime():new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),n=this.Gs.get(e);if(void 0!==n)return n.To;if(this.mo===this.xo){var r=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(z(r)),this.yo++,this.mo--}var o=this.No(t);return this.Gs.set(e,{To:o,Do:this.po}),this.ko.set(this.po,e),this.mo++,this.po++,o},i}(),Wt=function(){function i(t,e){mt(t<=e,"right should be >= left"),this.Ao=t,this.Bo=e}return i.prototype.In=function(){return this.Ao},i.prototype.jn=function(){return this.Bo},i.prototype.Lo=function(){return this.Bo-this.Ao+1},i.prototype.Uh=function(t){return this.Ao<=t&&t<=this.Bo},i.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},i}();function so(i,t){return null===i||null===t?i===t:i.br(t)}var ao,dc=function(){function i(){this.Eo=new Map,this.Gs=null}return i.prototype.Fo=function(t,e){this.Oo(e),this.Gs=null;for(var n=e;n<t.length;++n){var r=t[n],o=this.Eo.get(r.Vo);void 0===o&&this.Eo.set(r.Vo,o=[]),o.push({vs:n,rt:r.rt,Po:r.Vo})}},i.prototype.Wo=function(t,e){var n=Math.ceil(e/t);return null!==this.Gs&&this.Gs.zo===n||(this.Gs={au:this.Ro(n),zo:n}),this.Gs.au},i.prototype.Oo=function(t){if(0!==t){var e=[];this.Eo.forEach(function(s,l){t<=s[0].vs?e.push(l):s.splice(Nt(s,t,function(h){return h.vs<t}),1/0)});for(var n=0,r=e;n<r.length;n++)this.Eo.delete(r[n])}else this.Eo.clear()},i.prototype.Ro=function(t){for(var e=[],n=0,r=Array.from(this.Eo.keys()).sort(function(w,C){return C-w});n<r.length;n++){var o=r[n];if(this.Eo.get(o)){var s=e;e=[];for(var l=s.length,h=0,u=z(this.Eo.get(o)),c=u.length,d=1/0,f=-1/0,p=0;p<c;p++){for(var m=u[p],g=m.vs;h<l;){var v=s[h],y=v.vs;if(!(y<g)){d=y;break}h++,e.push(v),f=y,d=1/0}d-g>=t&&g-f>=t&&(e.push(m),f=g)}for(;h<l;h++)e.push(s[h])}}return e},i}(),Me=function(){function i(t){this.Io=t}return i.prototype.jo=function(){return null===this.Io?null:new Wt(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},i.prototype.qo=function(){return this.Io},i.Uo=function(){return new i(null)},i}();!function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(ao||(ao={}));var lo,fc=function(){function i(t,e,n){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new dc,this.Ko=new Map,this.Xo=Me.Uo(),this.Zo=!0,this.Jo=new F,this.Go=new F,this.Qo=new F,this.tl=null,this.il=null,this.nl=[],this.zi=e,this.qu=n,this.sl=e.rightOffset,this.hl=e.barSpacing,this.pi=t,this.rl()}return i.prototype.W=function(){return this.zi},i.prototype.el=function(t){A(this.qu,t),this.ul(),this.rl()},i.prototype.Pr=function(t,e){var n;A(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),void 0!==t.barSpacing&&this.pi.gn(t.barSpacing),void 0!==t.rightOffset&&this.pi.yn(t.rightOffset),void 0!==t.minBarSpacing&&this.pi.gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.hl),this.ul(),this.rl(),this.Qo.m()},i.prototype.gi=function(t){var e;return(null===(e=this.Yo[t])||void 0===e?void 0:e.rt)||null},i.prototype.Ze=function(t,e){if(this.Yo.length<1)return null;if(t.So>this.Yo[this.Yo.length-1].rt.So)return e?this.Yo.length-1:null;var n=Nt(this.Yo,t.So,function(r,o){return r.rt.So<o});return t.So<this.Yo[n].rt.So?e?n:null:n},i.prototype.wi=function(){return 0===this.hh||0===this.Yo.length||null===this.Ho},i.prototype.ss=function(){return this.ll(),this.Xo.jo()},i.prototype.fl=function(){return this.ll(),this.Xo.qo()},i.prototype.cl=function(){var t=this.ss();if(null===t)return null;var e={from:t.In(),to:t.jn()};return this.vl(e)},i.prototype.vl=function(t){var e=Math.round(t.from),n=Math.round(t.to),r=_(this._l()),o=_(this.dl());return{from:_(this.gi(Math.max(r,e))),to:_(this.gi(Math.min(o,n)))}},i.prototype.wl=function(t){return{from:_(this.Ze(t.from,!0)),to:_(this.Ze(t.to,!0))}},i.prototype.Ht=function(){return this.hh},i.prototype.Ra=function(t){if(isFinite(t)&&!(t<=0)&&this.hh!==t){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh&&(this.hl=this.hl*t/this.hh),this.zi.fixLeftEdge){var n=this.ss();null!==n&&n.In()<=0&&(this.sl-=Math.round((this.hh-t)/this.hl)+1)}this.hh=t,this.Zo=!0,this.Ml(),this.bl()}},i.prototype.At=function(t){if(this.wi()||!Tt(t))return 0;var e=this.ml()+this.sl-t;return this.hh-(e+.5)*this.hl-1},i.prototype.es=function(t,e){for(var n=this.ml(),o=void 0===e?t.length:e.to,s=void 0===e?0:e.from;s<o;s++)t[s].tt=this.hh-(n+this.sl-t[s].rt+.5)*this.hl-1},i.prototype.pl=function(t){return Math.ceil(this.gl(t))},i.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},i.prototype.ws=function(){return this.hl},i.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},i.prototype.Nl=function(){return this.sl},i.prototype.au=function(){if(this.wi())return null;if(null!==this.il)return this.il;for(var t=this.hl,e=5*(this.pi.W().layout.fontSize+4),n=Math.round(e/t),r=_(this.ss()),o=Math.max(r.In(),r.In()-n),s=Math.max(r.jn(),r.jn()-n),l=this.$o.Wo(t,e),h=this._l()+n,u=this.dl()-n,c=this.xl(),d=this.zi.fixLeftEdge||c,f=this.zi.fixRightEdge||c,p=0,m=0,g=l;m<g.length;m++){var v=g[m];if(o<=v.vs&&v.vs<=s){var y=void 0;p<this.nl.length?((y=this.nl[p]).su=this.At(v.vs),y.yu=this.Cl(v.rt,v.Po),y.Po=v.Po):(y={Sl:!1,su:this.At(v.vs),yu:this.Cl(v.rt,v.Po),Po:v.Po},this.nl.push(y)),y.Sl=!(this.hl>e/2&&!c)&&(d&&v.vs<=h||f&&v.vs>=u),p++}}return this.nl.length=p,this.il=this.nl,this.nl},i.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},i.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},i.prototype.Al=function(t,e){var n=this.gl(t),r=this.ws();this.gn(r+e*(r/10)),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(n-this.gl(t)))},i.prototype.da=function(t){this.zu&&this.pa(),null===this.Wu&&null===this.tl&&(this.wi()||(this.Wu=t,this.Bl()))},i.prototype.wa=function(t){if(null!==this.tl){var e=_e(this.hh-t,0,this.hh),n=_e(this.hh-_(this.Wu),0,this.hh);0!==e&&0!==n&&this.gn(this.tl.ws*e/n)}},i.prototype.Ma=function(){null!==this.Wu&&(this.Wu=null,this.Ll())},i.prototype.ba=function(t){null===this.zu&&null===this.tl&&(this.wi()||(this.zu=t,this.Bl()))},i.prototype.ma=function(t){if(null!==this.zu){var e=(this.zu-t)/this.ws();this.sl=_(this.tl).Nl+e,this.Zo=!0,this.bl()}},i.prototype.pa=function(){null!==this.zu&&(this.zu=null,this.Ll())},i.prototype.El=function(){this.Fl(this.zi.rightOffset)},i.prototype.Fl=function(t,e){var n=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var r=this.sl,o=performance.now(),s=function(){var l=(performance.now()-o)/e,h=l>=1;n.yn(h?t:r+(t-r)*l),h||setTimeout(s,20)};s()},i.prototype.vt=function(t,e){this.Zo=!0,this.Yo=t,this.$o.Fo(t,e),this.bl()},i.prototype.Ol=function(){return this.Jo},i.prototype.Vl=function(){return this.Go},i.prototype.Pl=function(){return this.Qo},i.prototype.ml=function(){return this.Ho||0},i.prototype.Wl=function(t){var e=t.Lo();this.kl(this.hh/e),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},i.prototype.zl=function(){var t=this._l(),e=this.dl();null!==t&&null!==e&&this.Wl(new Wt(t,e+this.zi.rightOffset))},i.prototype.Rl=function(t){var e=new Wt(t.from,t.to);this.Wl(e)},i.prototype.yi=function(t){return void 0!==this.qu.timeFormatter?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},i.prototype.xl=function(){var t=this.pi.W(),e=t.handleScroll,n=t.handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},i.prototype._l=function(){return 0===this.Yo.length?null:0},i.prototype.dl=function(){return 0===this.Yo.length?null:this.Yo.length-1},i.prototype.jl=function(t){return(this.hh-1-t)/this.hl},i.prototype.gl=function(t){var e=this.jl(t),n=this.ml()+this.sl-e;return Math.round(1e6*n)/1e6},i.prototype.kl=function(t){var e=this.hl;this.hl=t,this.Ml(),e!==this.hl&&(this.Zo=!0,this.ql())},i.prototype.ll=function(){if(this.Zo)if(this.Zo=!1,this.wi())this.Ul(Me.Uo());else{var t=this.ml(),n=this.sl+t,r=new Wt(n-this.hh/this.hl+1,n);this.Ul(new Me(r))}},i.prototype.Ml=function(){var t=this.Hl();if(this.hl<t&&(this.hl=t,this.Zo=!0),0!==this.hh){var e=.5*this.hh;this.hl>e&&(this.hl=e,this.Zo=!0)}},i.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Yo.length?this.hh/this.Yo.length:this.zi.minBarSpacing},i.prototype.bl=function(){var t=this.Yl();this.sl>t&&(this.sl=t,this.Zo=!0);var e=this.$l();null!==e&&this.sl<e&&(this.sl=e,this.Zo=!0)},i.prototype.$l=function(){var t=this._l(),e=this.Ho;return null===t||null===e?null:t-e-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},i.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},i.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},i.prototype.Ll=function(){this.tl=null},i.prototype.Cl=function(t,e){var n=this,r=this.Ko.get(e);return void 0===r&&(r=new uc(function(o){return n.Kl(o,e)}),this.Ko.set(e,r)),r.lo(t)},i.prototype.Kl=function(t,e){var n,r=function(o,s,l){switch(o){case 0:case 10:return s?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return s?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e,this.zi.timeVisible,this.zi.secondsVisible);return void 0!==this.zi.tickMarkFormatter?this.zi.tickMarkFormatter(null!==(n=t.Co)&&void 0!==n?n:t.So,r,this.qu.locale):function(o,s,l){var h={};switch(s){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}var u=void 0===o.Co?new Date(1e3*o.So):new Date(Date.UTC(o.Co.year,o.Co.month-1,o.Co.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,h)}(t,r,this.qu.locale)},i.prototype.Ul=function(t){var e=this.Xo;this.Xo=t,so(e.jo(),this.Xo.jo())||this.Jo.m(),so(e.qo(),this.Xo.qo())||this.Go.m(),this.ql()},i.prototype.ql=function(){this.il=null},i.prototype.ul=function(){this.ql(),this.Ko.clear()},i.prototype.rl=function(){var t=this.qu.dateFormat;this.Il=this.zi.timeVisible?new cc({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):new oo(t,this.qu.locale)},i.prototype.al=function(){if(this.zi.fixLeftEdge){var t=this._l();if(null!==t){var e=this.ss();if(null!==e){var n=e.In()-t;n<0&&this.yn(this.sl-n-1),this.Ml()}}}},i.prototype.ol=function(){this.bl(),this.Ml()},i}(),pc=function(i){function t(e){var n=i.call(this)||this;return n.Xl=new Map,n.Bt=e,n}return S(t,i),t.prototype.Y=function(e){},t.prototype.K=function(e){if(this.Bt.yt){e.save();for(var n=0,r=0,o=this.Bt.Zl;r<o.length;r++)if(0!==(c=o[r]).Gt.length){e.font=c.T;var s=this.Jl(e,c.Gt);c.Al=s>this.Bt.Ht?this.Bt.Ht/s:1,n+=c.Gl*c.Al}var l=0;switch(this.Bt.Ql){case"top":l=0;break;case"center":l=Math.max((this.Bt.Yt-n)/2,0);break;case"bottom":l=Math.max(this.Bt.Yt-n,0)}e.fillStyle=this.Bt.A;for(var h=0,u=this.Bt.Zl;h<u.length;h++){var c=u[h];e.save();var d=0;switch(this.Bt.tf){case"left":e.textAlign="left",d=c.Gl/2;break;case"center":e.textAlign="center",d=this.Bt.Ht/2;break;case"right":e.textAlign="right",d=this.Bt.Ht-1-c.Gl/2}e.translate(d,l),e.textBaseline="top",e.font=c.T,e.scale(c.Al,c.Al),e.fillText(c.Gt,0,c.if),e.restore(),l+=c.Gl*c.Al}e.restore()}},t.prototype.Jl=function(e,n){var r=this.nf(e.font),o=r.get(n);return void 0===o&&(o=e.measureText(n).width,r.set(n,o)),o},t.prototype.nf=function(e){var n=this.Xl.get(e);return void 0===n&&this.Xl.set(e,n=new Map),n},t}(Lt),mc=function(){function i(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new pc(this.Wt),this.Rt=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.ft&&(this.wt(t,e),this.ft=!1),this.zt},i.prototype.wt=function(t,e){var n=this.Rt.W(),r=this.Wt;r.yt=n.visible,r.yt&&(r.A=n.color,r.Ht=e,r.Yt=t,r.tf=n.horzAlign,r.Ql=n.vertAlign,r.Zl=[{Gt:n.text,T:ct(n.fontSize,n.fontFamily,n.fontStyle),Gl:1.2*n.fontSize,if:0,Al:0}])},i}(),gc=function(i){function t(e,n){var r=i.call(this)||this;return r.zi=n,r.Hi=new mc(r),r}return S(t,i),t.prototype.nn=function(){return[]},t.prototype.tn=function(){return[this.Hi]},t.prototype.W=function(){return this.zi},t.prototype.hn=function(){this.Hi.vt()},t}(fi);!function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"}(lo||(lo={}));var ho,co,Mi,vc=function(){function i(t,e){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new F,this.af=new F,this.lf=null,this.ff=t,this.zi=e,this.cf=new nh(this),this.Da=new fc(this,e.timeScale,this.zi.localization),this.ct=new mh(this,e.crosshair),this.vf=new Qh(e.crosshair),this._f=new gc(this,e.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return i.prototype.Ce=function(){this.mf(new H(3))},i.prototype.Wr=function(){this.mf(new H(2))},i.prototype.We=function(){this.mf(new H(1))},i.prototype.Se=function(t){var e=this.pf(t);this.mf(e)},i.prototype.gf=function(){return this.ef},i.prototype.yf=function(t){var e=this.ef;this.ef=t,null!==e&&this.Se(e.kf),null!==t&&this.Se(t.kf)},i.prototype.W=function(){return this.zi},i.prototype.Pr=function(t){A(this.zi,t),this.sf.forEach(function(e){return e.Oa(t)}),void 0!==t.timeScale&&this.Da.Pr(t.timeScale),void 0!==t.localization&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},i.prototype.Nf=function(t,e){if("left"!==t)if("right"!==t){var n=this.xf(t);null!==n&&(n.Ct.Pr(e),this.uf.m())}else this.Pr({rightPriceScale:e});else this.Pr({leftPriceScale:e})},i.prototype.xf=function(t){for(var e=0,n=this.sf;e<n.length;e++){var r=n[e],o=r.Va(t);if(null!==o)return{It:r,Ct:o}}return null},i.prototype.bt=function(){return this.Da},i.prototype.Cf=function(){return this.sf},i.prototype.Sf=function(){return this._f},i.prototype.Tf=function(){return this.ct},i.prototype.Df=function(){return this.af},i.prototype.Af=function(t,e){t.ia(e),this.yl()},i.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach(function(e){return e.Ra(t)}),this.yl()},i.prototype.df=function(t){var e=new sc(this.Da,this);void 0!==t?this.sf.splice(t,0,e):this.sf.push(e);var n=void 0===t?this.sf.length-1:t,r=new H(3);return r.cn(n,{vn:0,_n:!0}),this.mf(r),e},i.prototype.Ka=function(t,e,n){t.Ka(e,n)},i.prototype.Xa=function(t,e,n){t.Xa(e,n),this.Te(),this.mf(this.Bf(t,2))},i.prototype.Za=function(t,e){t.Za(e),this.mf(this.Bf(t,2))},i.prototype.Ja=function(t,e,n){e.Xu()||t.Ja(e,n)},i.prototype.Ga=function(t,e,n){e.Xu()||(t.Ga(e,n),this.Te(),this.mf(this.Bf(t,2)))},i.prototype.Qa=function(t,e){e.Xu()||(t.Qa(e),this.mf(this.Bf(t,2)))},i.prototype.no=function(t,e){t.no(e),this.mf(this.Bf(t,2))},i.prototype.Lf=function(t){this.Da.da(t)},i.prototype.Ef=function(t,e){var n=this.bt();if(!n.wi()&&0!==e){var r=n.Ht();t=Math.max(1,Math.min(t,r)),n.Al(t,e),this.yl()}},i.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},i.prototype.Wf=function(t){this.Da.wa(t),this.yl()},i.prototype.zf=function(){this.Da.Ma(),this.Wr()},i.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},i.prototype.Vf=function(t){var e=!1;return null!==this.rf&&Math.abs(t-this.rf)>20&&(this.rf=null,e=!0),this.Da.ma(t),this.yl(),e},i.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},i.prototype._t=function(){return this.hf},i.prototype.Rf=function(t,e,n){this.ct.Yi(t,e);var r=NaN,o=this.Da.pl(t),s=this.Da.ss();null!==s&&(o=Math.min(Math.max(s.In(),o),s.jn()));var l=n.ji(),h=l.kt();null!==h&&(r=l.qi(e,h)),r=this.vf.Je(r,o,n),this.ct.Zi(o,r,n),this.We(),this.af.m(this.ct.Mt(),{x:t,y:e})},i.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},i.prototype.Te=function(){var t=this.ct.It();if(null!==t){var e=this.ct.Ki(),n=this.ct.Xi();this.Rf(e,n,t)}this.ct.hn()},i.prototype.jf=function(t,e,n){var r=this.Da.gi(0);void 0!==e&&void 0!==n&&this.Da.vt(e,n);var o=this.Da.gi(0),s=this.Da.ml(),l=this.Da.ss();if(null!==l&&null!==r&&null!==o){var h=l.Uh(s),c=null!==t&&t>s&&!(r.So>o.So),d=h&&this.Da.W().shiftVisibleRangeOnNewBar;if(c&&!d){var f=t-s;this.Da.yn(this.Da.Nl()-f)}}this.Da.Dl(t)},i.prototype.Be=function(t){null!==t&&t.ho()},i.prototype.oh=function(t){var e=this.sf.find(function(n){return n.oa().includes(t)});return void 0===e?null:e},i.prototype.yl=function(){this._f.hn(),this.sf.forEach(function(t){return t.ho()}),this.Te()},i.prototype.g=function(){this.sf.forEach(function(t){return t.g()}),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},i.prototype.qf=function(){return this.cf},i.prototype.dh=function(){return this.cf.W()},i.prototype.Pa=function(){return this.uf},i.prototype.Uf=function(t,e){var r=this.Hf(e,t,this.sf[0]);return this.hf.push(r),1===this.hf.length?this.Ce():this.Wr(),r},i.prototype.Yf=function(t){var e=this.oh(t),n=this.hf.indexOf(t);mt(-1!==n,"Series not found"),this.hf.splice(n,1),_(e).ca(t),t.g&&t.g()},i.prototype.xe=function(t,e){var n=_(this.oh(t));n.ca(t);var r=this.xf(e);if(null===r){var o=t.xi();n.la(t,e,o)}else o=r.It===n?t.xi():void 0,r.It.la(t,e,o)},i.prototype.zl=function(){var t=new H(2);t.Mn(),this.mf(t)},i.prototype.$f=function(t){var e=new H(2);e.mn(t),this.mf(e)},i.prototype.pn=function(){var t=new H(2);t.pn(),this.mf(t)},i.prototype.gn=function(t){var e=new H(2);e.gn(t),this.mf(e)},i.prototype.yn=function(t){var e=new H(2);e.yn(t),this.mf(e)},i.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},i.prototype.Xf=function(){return this.bf},i.prototype.Zf=function(){return this.wf},i.prototype.Dt=function(t){var e=this.bf,n=this.wf;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.lf||this.lf.Pn!==n||this.lf.Wn!==e)this.lf={Pn:n,Wn:e,Jf:new Map};else{var r=this.lf.Jf.get(t);if(void 0!==r)return r}var l,h,u,c,d,f,p,m,v,y,w,C,o=(l=e,h=t/100,c=(u=ue(n))[0],d=u[1],f=u[2],p=u[3],v=(m=ue(l))[1],y=m[2],w=m[3],C=[G(c+h*(m[0]-c)),G(d+h*(v-d)),G(f+h*(y-f)),kr(p+h*(w-p))],"rgba(".concat(C[0],", ").concat(C[1],", ").concat(C[2],", ").concat(C[3],")"));return this.lf.Jf.set(t,o),o},i.prototype.Bf=function(t,e){var n=new H(e);if(null!==t){var r=this.sf.indexOf(t);n.cn(r,{vn:e})}return n},i.prototype.pf=function(t,e){return void 0===e&&(e=2),this.Bf(this.oh(t),e)},i.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach(function(e){return e.eo().ou().vt()})},i.prototype.Hf=function(t,e,n){var r=new yi(this,t,e),o=void 0!==t.priceScaleId?t.priceScaleId:this.Kf();return n.la(r,o),ge(o)||r.Pr(t),r},i.prototype.Mf=function(t){var e=this.zi.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color},i}();function uo(i){void 0!==i.borderColor&&(i.borderUpColor=i.borderColor,i.borderDownColor=i.borderColor),void 0!==i.wickColor&&(i.wickUpColor=i.wickColor,i.wickDownColor=i.wickColor)}function Si(i){return!j(i)&&!hi(i)}function fo(i){return j(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(ho||(ho={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(co||(co={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(Mi||(Mi={}));var R=function(){function i(t,e){this.Ft=t,this.Ot=e}return i.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},i}();function Se(i){return i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.devicePixelRatio||1}function U(i){var t=_(i.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function po(i,t){var e=i.createElement("canvas"),n=Se(e);return e.style.width="".concat(t.Ft,"px"),e.style.height="".concat(t.Ot,"px"),e.width=t.Ft*n,e.height=t.Ot*n,e}function ut(i,t){var e=_(i.ownerDocument).createElement("canvas");i.appendChild(e);var n=function Jl(i,t){return void 0===t&&(t=ql),new $l(i,t)}(e,{allowDownsampling:!1});return n.resizeCanvas({width:t.Ft,height:t.Ot}),n}function Di(i,t){return i.Gf-t.Gf}function xi(i,t,e){var n=(i.Gf-t.Gf)/(i.rt-t.rt);return Math.sign(n)*Math.min(Math.abs(n),e)}var _c=function(){function i(t,e,n,r){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=e,this.oc=n,this.Cn=r}return i.prototype.lc=function(t,e){if(null!==this.Qf){if(this.Qf.rt===e)return void(this.Qf.Gf=t);if(Math.abs(this.Qf.Gf-t)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:e,Gf:t}},i.prototype.xh=function(t,e){if(null!==this.Qf&&null!==this.tc&&!(e-this.Qf.rt>50)){var n=0,r=xi(this.Qf,this.tc,this.ac),o=Di(this.Qf,this.tc),s=[r],l=[o];if(n+=o,null!==this.ic){var h=xi(this.tc,this.ic,this.ac);if(Math.sign(h)===Math.sign(r)){var u=Di(this.tc,this.ic);if(s.push(h),l.push(u),n+=u,null!==this.nc){var c=xi(this.ic,this.nc,this.ac);if(Math.sign(c)===Math.sign(r)){var d=Di(this.ic,this.nc);s.push(c),l.push(d),n+=d}}}}for(var f,m,g=0,v=0;v<s.length;++v)g+=l[v]/n*s[v];Math.abs(g)<this.uc||(this.sc={Gf:t,rt:e},this.rc=g,this.hc=(f=Math.abs(g),m=Math.log(this.oc),Math.log(1*m/-f)/m))}},i.prototype.fc=function(t){var e=_(this.sc);return e.Gf+this.rc*(Math.pow(this.oc,t-e.rt)-1)/Math.log(this.oc)},i.prototype.cc=function(t){return null===this.sc||this.vc(t)===this.hc},i.prototype._c=function(){return this.ec},i.prototype.dc=function(){this.ec=!0},i.prototype.vc=function(t){var e=t-_(this.sc).rt;return Math.min(e,this.hc)},i}(),De=typeof window<"u";function mo(){return!!De&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Oi(){return!!De&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var Ei=function(){function i(t,e,n){var r=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!Oi(),this.Uc=function(o){r.Hc(o)},this.Yc=function(o){if(r.$c(o)){var s=r.Kc(o);++r.mc,r.gc&&r.mc>1&&(r.Zc(Z(o),r.yc).Xc<30&&!r.Dc&&r.Jc(s,r.Qc.Gc),r.tv())}else s=r.Kc(o),++r.wc,r.Mc&&r.wc>1&&(r.Zc(Z(o),r.bc).Xc<5&&!r.Tc&&r.iv(s,r.Qc.nv),r.sv())},this.hv=t,this.Qc=e,this.zi=n,this.rv()}return i.prototype.g=function(){null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Bc&&(this.Bc(),this.Bc=null),null!==this.Ec&&(this.Ec(),this.Ec=null),null!==this.Fc&&(this.Fc(),this.Fc=null),null!==this.Oc&&(this.Oc(),this.Oc=null),null!==this.Lc&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},i.prototype.uv=function(t){var e=this;this.Ec&&this.Ec();var n=this.av.bind(this);if(this.Ec=function(){e.hv.removeEventListener("mousemove",n)},this.hv.addEventListener("mousemove",n),!this.$c(t)){var r=this.Kc(t);this.iv(r,this.Qc.ov),this.qc=!0}},i.prototype.sv=function(){null!==this.Mc&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},i.prototype.tv=function(){null!==this.gc&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},i.prototype.av=function(t){if(!this.Rc&&null===this.Cc&&!this.$c(t)){var e=this.Kc(t);this.iv(e,this.Qc.lv),this.qc=!0}},i.prototype.fv=function(t){var e=ki(t.changedTouches,_(this.jc));if(null!==e&&(this.Ic=xe(t),null===this.Vc&&!this.zc)){this.Wc=!0;var n=this.Zc(Z(e),_(this.Cc)),o=n.vv;if(this.Sc||!(n.Xc<5)){if(!this.Sc){var l=.5*n.cv,h=o>=l&&!this.zi._v(),u=l>o&&!this.zi.dv();h||u||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var c=this.Kc(t,e);this.Jc(c,this.Qc.wv),yt(t)}}}},i.prototype.Mv=function(t){if(0===t.button&&(this.Zc(Z(t),_(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var e=this.Kc(t);this.iv(e,this.Qc.bv)}},i.prototype.Zc=function(t,e){var n=Math.abs(e.tt-t.tt),r=Math.abs(e.it-t.it);return{cv:n,vv:r,Xc:n+r}},i.prototype.mv=function(t){var e=ki(t.changedTouches,_(this.jc));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null!==e){this.jc=null,this.Ic=xe(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var n=this.Kc(t,e);this.Jc(n,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(this.Zc(Z(e),this.yc).Xc<30&&!this.Dc&&this.Jc(n,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(n,this.Qc.gv),this.Qc.gv&&yt(t)),0===this.mc&&yt(t),0===t.touches.length&&this.Nc&&(this.Nc=!1,yt(t))}},i.prototype.Hc=function(t){if(0===t.button){var e=this.Kc(t);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),mo()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(e,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(this.Zc(Z(t),this.bc).Xc<5&&!this.Tc&&this.iv(e,this.Qc.nv),this.sv()):this.Tc||this.iv(e,this.Qc.kv))}},i.prototype.ev=function(){null!==this.kc&&(clearTimeout(this.kc),this.kc=null)},i.prototype.Nv=function(t){if(null===this.jc){var e=t.changedTouches[0];this.jc=e.identifier,this.Ic=xe(t);var n=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=Z(e),this.Oc&&(this.Oc(),this.Oc=null);var r=this.fv.bind(this),o=this.mv.bind(this);this.Oc=function(){n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240);var s=this.Kc(t,e);this.Jc(s,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=Z(e))}},i.prototype.Sv=function(t){if(0===t.button){var e=this.hv.ownerDocument.documentElement;mo()&&e.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=Z(t),this.Fc&&(this.Fc(),this.Fc=null);var n=this.Mv.bind(this),r=this.Hc.bind(this);if(this.Fc=function(){e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r),this.Rc=!0,!this.$c(t)){var o=this.Kc(t);this.iv(o,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=Z(t))}}},i.prototype.rv=function(){var t=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var e=this.hv.ownerDocument,n=function(r){t.Qc.Dv&&(r.target&&t.hv.contains(r.target)||t.Qc.Dv())};this.Bc=function(){e.removeEventListener("touchstart",n)},this.Ac=function(){e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),Oi()&&(this.Lc=function(){t.hv.removeEventListener("dblclick",t.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),function yc(i){De&&void 0!==window.chrome&&i.addEventListener("mousedown",function(t){if(1===t.button)return t.preventDefault(),!1})}(this.hv),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",function(){},{passive:!1})},i.prototype.Bv=function(){var t=this;void 0===this.Qc.Lv&&void 0===this.Qc.Ev&&void 0===this.Qc.Fv||(this.hv.addEventListener("touchstart",function(e){return t.Ov(e.touches)},{passive:!0}),this.hv.addEventListener("touchmove",function(e){if(2===e.touches.length&&null!==t.Vc&&void 0!==t.Qc.Ev){var n=go(e.touches[0],e.touches[1])/t.Pc;t.Qc.Ev(t.Vc,n),yt(e)}},{passive:!1}),this.hv.addEventListener("touchend",function(e){t.Ov(e.touches)}))},i.prototype.Ov=function(t){1===t.length&&(this.Wc=!1),2!==t.length||this.Wc||this.Nc?this.Vv():this.Pv(t)},i.prototype.Pv=function(t){var e=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,it:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Pc=go(t[0],t[1]),void 0!==this.Qc.Lv&&this.Qc.Lv(),this.ev()},i.prototype.Vv=function(){null!==this.Vc&&(this.Vc=null,void 0!==this.Qc.Fv&&this.Qc.Fv())},i.prototype.Av=function(t){if(this.Ec&&this.Ec(),!this.$c(t)&&this.qc){var e=this.Kc(t);this.iv(e,this.Qc.Wv),this.qc=!Oi()}},i.prototype.xv=function(t){var e=ki(t.touches,_(this.jc));if(null!==e){var n=this.Kc(t,e);this.Jc(n,this.Qc.zv),this.Dc=!0,this.Nc=!0}},i.prototype.$c=function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:xe(t)<this.Ic+500},i.prototype.Jc=function(t,e){e&&e.call(this.Qc,t)},i.prototype.iv=function(t,e){e&&e.call(this.Qc,t)},i.prototype.Kc=function(t,e){var n=e||t,r=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:n.clientX,Iv:n.clientY,jv:n.pageX,qv:n.pageY,Uv:n.screenX,Hv:n.screenY,Yv:n.clientX-r.left,$v:n.clientY-r.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Qv:t.type,t_:n.target,i_:t.view,n_:function(){"touchstart"!==t.type&&yt(t)}}},i}();function go(i,t){var e=i.clientX-t.clientX,n=i.clientY-t.clientY;return Math.sqrt(e*e+n*n)}function yt(i){i.cancelable&&i.preventDefault()}function Z(i){return{tt:i.pageX,it:i.pageY}}function xe(i){return i.timeStamp||performance.now()}function ki(i,t){for(var e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}var vo=function(){function i(t,e,n,r){this.rh=new gt(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=e,this.Yh=ct(t,n,r)}return i.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},i.prototype.r_=function(t,e,n,r,o){var s=this.e_(t,e);if("left"!==o){var l=Se(t.canvas);n-=Math.floor(s.u_*l)}r-=Math.floor(s.Yt/2),t.drawImage(s.a_,n,r,s.Ht,s.Yt)},i.prototype.e_=function(t,e){var n,r=this;if(this.h_.has(e))n=z(this.h_.get(e));else{if(this.th.length>=200){var o=z(this.th.shift());this.h_.delete(o)}var s=Se(t.canvas),l=Math.ceil(this.R/4.5),h=Math.round(this.R/10),u=Math.ceil(this.rh.Qt(t,e)),c=vi(Math.round(u+2*l)),d=vi(this.R+2*l),f=po(document,new R(c,d));n={Gt:e,u_:Math.round(Math.max(1,u)),Ht:Math.ceil(c*s),Yt:Math.ceil(d*s),a_:f},0!==u&&(this.th.push(n.Gt),this.h_.set(n.Gt,n)),X(t=U(n.a_),s,function(){t.font=r.Yh,t.fillStyle=r.s_,t.fillText(e,0,d-l-h)})}return n},i}(),_o=function(){function i(t,e,n,r){var o=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new gt(50),this.c_=new vo(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){o.w_(o.cf.W()),o.__||o.Di.M_().jt().Wr()},this.b_=function(){o.__||o.Di.M_().jt().Wr()},this.Di=t,this.zi=e,this.cf=n,this.m_="left"===r,this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=ut(this.p_,new R(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var s=this.g_.canvas;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.y_=ut(this.p_,new R(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var l=this.y_.canvas;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";var h={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new Ei(this.y_.canvas,h,{_v:function(){return!1},dv:function(){return!0}})}return i.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this._i&&this._i._a().M(this),this._i=null,this.c_.g()},i.prototype.B_=function(){return this.p_},i.prototype.ht=function(){return _(this._i).W().borderColor},i.prototype.L_=function(){return this.zi.textColor},i.prototype.S=function(){return this.zi.fontSize},i.prototype.E_=function(){return ct(this.S(),this.zi.fontFamily)},i.prototype.F_=function(){var t=this.cf.W(),n=this.Yh!==t.T;return(this.s_!==t.A||n)&&(this.w_(t),this.s_=t.A),n&&(this.f_.ih(),this.Yh=t.T),t},i.prototype.O_=function(){if(null===this._i)return 0;var t=0,e=this.F_(),n=U(this.g_.canvas),r=this._i.au();n.font=this.E_(),r.length>0&&(t=Math.max(this.f_.Qt(n,r[0].yu),this.f_.Qt(n,r[r.length-1].yu)));for(var o=this.V_(),s=o.length;s--;){var l=this.f_.Qt(n,o[s].Gt());l>t&&(t=l)}var h=this._i.kt();if(null!==h&&null!==this.o_){var u=this._i.qi(1,h),c=this._i.qi(this.o_.Ot-2,h);t=Math.max(t,this.f_.Qt(n,this._i.Mi(Math.floor(Math.min(u,c))+.11111111111111,h)),this.f_.Qt(n,this._i.Mi(Math.ceil(Math.max(u,c))-.11111111111111,h)))}var f=Math.ceil(e.N+e.C+e.L+e.F+(t||34));return f+f%2},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},i.prototype.W_=function(){return _(this.o_).Ft},i.prototype.Si=function(t){this._i!==t&&(null!==this._i&&this._i._a().M(this),this._i=t,t._a().u(this.Eu.bind(this),this))},i.prototype.Ct=function(){return this._i},i.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,_(this.Ct()))},i.prototype.R_=function(t){if(null!==this.o_){if(1!==t){var e=U(this.g_.canvas);this.I_(),this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),this.U_(e,this.g_.pixelRatio)}var n=U(this.y_.canvas),r=this.o_.Ft,o=this.o_.Ot;X(n,this.y_.pixelRatio,function(){n.clearRect(0,0,r,o)}),this.H_(n,this.y_.pixelRatio)}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.vt=function(){var t;null===(t=this._i)||void 0===t||t.au()},i.prototype.k_=function(t){if(null!==this._i&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!0,e.Ka(n,this._i,t.$v)}},i.prototype.N_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();e.Xa(n,this._i,t.$v)}},i.prototype.x_=function(){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.M_().jt(),e=this.Di.z_(),n=this._i;this.l_&&(this.l_=!1,t.Za(e,n))}},i.prototype.C_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!1,e.Za(n,this._i)}},i.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},i.prototype.T_=function(t){null!==this._i&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},i.prototype.D_=function(t){this.K_(0)},i.prototype.V_=function(){var t=this,e=[],n=null===this._i?void 0:this._i;return function(r){for(var o=0;o<r.length;++o)for(var s=r[o].nn(t.Di.z_(),n),l=0;l<s.length;l++)e.push(s[l])}(this.Di.z_().oa()),e},i.prototype.j_=function(t,e){var n=this;if(null!==this.o_){var r=this.o_.Ft,o=this.o_.Ot;X(t,e,function(){var s=n.Di.z_().jt(),l=s.Zf(),h=s.Xf();l===h?me(t,0,0,r,o,l):Fr(t,0,0,r,o,l,h)})}},i.prototype.Rs=function(t,e){if(null!==this.o_&&null!==this._i&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,r=Math.max(1,Math.floor(this.F_().N*e));n=this.m_?Math.floor(this.o_.Ft*e)-r:0,t.fillRect(n,0,r,Math.ceil(this.o_.Ot*e)),t.restore()}},i.prototype.q_=function(t,e){if(null!==this.o_&&null!==this._i){var n=this._i.au();t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht();var r=this.F_(),o=this._i.W().borderVisible&&this._i.W().drawTicks,s=this.m_?Math.floor((this.o_.Ft-r.C)*e-r.N*e):Math.floor(r.N*e),l=this.m_?Math.round(s-r.L*e):Math.round(s+r.C*e+r.L*e),h=this.m_?"right":"left",u=Math.max(1,Math.floor(e)),c=Math.floor(.5*e);if(o){var d=Math.round(r.C*e);t.beginPath();for(var f=0,p=n;f<p.length;f++){var m=p[f];t.rect(s,Math.round(m.su*e)-c,d,u)}t.fill()}t.fillStyle=this.L_();for(var g=0,v=n;g<v.length;g++)this.c_.r_(t,(m=v[g]).yu,l,Math.round(m.su*e),h);t.restore()}},i.prototype.I_=function(){if(null!==this.o_&&null!==this._i){var t=this.o_.Ot/2,e=[],n=this._i.oa().slice(),r=this.Di.z_(),o=this.F_();this._i===r.fh()&&this.Di.z_().oa().forEach(function(v){r.lh(v)&&n.push(v)});var s=this._i.Ge()[0],l=this._i;n.forEach(function(v){var y=v.nn(r,l);y.forEach(function(w){w.oi(null),w.li()&&e.push(w)}),s===v&&y.length>0&&(t=y[0].ti())});var h=e.filter(function(v){return v.ti()<=t}),u=e.filter(function(v){return v.ti()>t});if(h.sort(function(v,y){return y.ti()-v.ti()}),h.length&&u.length&&u.push(h[0]),u.sort(function(v,y){return v.ti()-y.ti()}),e.forEach(function(v){return v.oi(v.ti())}),this._i.W().alignLabels){for(var c=1;c<h.length;c++){var d=h[c],f=(m=h[c-1]).Yt(o,!1);d.ti()>(g=m.ai())-f&&d.oi(g-f)}for(var p=1;p<u.length;p++){var m,g;d=u[p],f=(m=u[p-1]).Yt(o,!0),d.ti()<(g=m.ai())+f&&d.oi(g+f)}}}},i.prototype.U_=function(t,e){var n=this;if(null!==this.o_){t.save();var r=this.o_,o=this.V_(),s=this.F_(),l=this.m_?"right":"left";o.forEach(function(h){if(h.fi()){var u=h.dt(_(n._i));t.save(),u.H(t,s,n.f_,r.Ft,l,e),t.restore()}}),t.restore()}},i.prototype.H_=function(t,e){var n=this;if(null!==this.o_&&null!==this._i){t.save();var r=this.o_,o=this.Di.M_().jt(),s=[],l=this.Di.z_(),h=o.Tf().nn(l,this._i);h.length&&s.push(h);var u=this.F_(),c=this.m_?"right":"left";s.forEach(function(d){d.forEach(function(f){t.save(),f.dt(_(n._i)).H(t,u,n.f_,r.Ft,c,e),t.restore()})}),t.restore()}},i.prototype.K_=function(t){this.p_.style.cursor=1===t?"ns-resize":"default"},i.prototype.Eu=function(){var t=this.O_();this.v_<t&&this.Di.M_().jt().Ce(),this.v_=t},i.prototype.w_=function(t){this.c_.g(),this.c_=new vo(t.S,t.A,t.D)},i}();function yo(i,t,e,n,r){i.$&&i.$(t,e,n,r)}function Vi(i,t,e,n,r){i.H(t,e,n,r)}function Oe(i,t){return i.tn(t)}function bc(i,t){return void 0!==i.Pe?i.Pe(t):[]}var wc=function(){function i(t,e){var n=this;this.o_=new R(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new F,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){n.__||null===n.ud||n.pi().Wr()},this.b_=function(){n.__||null===n.ud||n.pi().Wr()},this.ad=t,this.ud=e,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(r),this.g_=ut(r,new R(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var o=this.g_.canvas;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.y_=ut(r,new R(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var s=this.y_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new Ei(this.y_.canvas,this,{_v:function(){return null===n.sd&&!n.ad.W().handleScroll.vertTouchDrag},dv:function(){return null===n.sd&&!n.ad.W().handleScroll.horzTouchDrag}})}return i.prototype.g=function(){null!==this.X_&&this.X_.g(),null!==this.Z_&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this.ud&&this.ud.ro().M(this),this.A_.g()},i.prototype.z_=function(){return _(this.ud)},i.prototype.wd=function(t){null!==this.ud&&this.ud.ro().M(this),this.ud=t,null!==this.ud&&this.ud.ro().u(i.prototype.od.bind(this),this,!0),this.dd()},i.prototype.M_=function(){return this.ad},i.prototype.B_=function(){return this._d},i.prototype.dd=function(){if(null!==this.ud&&(this.Md(),0!==this.pi()._t().length)){if(null!==this.X_){var t=this.ud.Ya();this.X_.Si(_(t))}if(null!==this.Z_){var e=this.ud.$a();this.Z_.Si(_(e))}}},i.prototype.bd=function(){null!==this.X_&&this.X_.vt(),null!==this.Z_&&this.Z_.vt()},i.prototype.Wa=function(){return null!==this.ud?this.ud.Wa():0},i.prototype.za=function(t){this.ud&&this.ud.za(t)},i.prototype.ov=function(t){this.ud&&(this.md(),this.pd(t.Yv,t.$v))},i.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},i.prototype.lv=function(t){if(this.ud){this.md();var e=t.Yv,n=t.$v;this.pd(e,n);var r=this.$h(e,n);this.pi().yf(r&&{kf:r.kf,yd:r.yd})}},i.prototype.kv=function(t){if(null!==this.ud){this.md();var e=t.Yv,n=t.$v;if(this.Q_.p()){var r=this.pi().Tf().Mt();this.Q_.m(r,{x:e,y:n})}}},i.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},i.prototype.yv=function(t){null!==this.ud&&(this.md(),this.nd=!1,this.Nd(t))},i.prototype.zv=function(t){if(this.nd=!0,null===this.sd){var e={x:t.Yv,y:t.$v};this.xd(e,e)}},i.prototype.Wv=function(t){null!==this.ud&&(this.md(),this.ud.jt().yf(null),this.Cd())},i.prototype.Sd=function(){return this.Q_},i.prototype.Lv=function(){this.td=1,this.Td()},i.prototype.Ev=function(t,e){if(this.ad.W().handleScale.pinch){var n=5*(e-this.td);this.td=e,this.pi().Ef(t.tt,n)}},i.prototype.Cv=function(t){if(this.nd=!1,this.hd=null!==this.sd,this.gd(),null!==this.sd){var e=this.pi().Tf();this.rd={x:e.$t(),y:e.Kt()},this.sd={x:t.Yv,y:t.$v}}},i.prototype.wv=function(t){if(null!==this.ud){var e=t.Yv,n=t.$v;if(null===this.sd)this.kd(t);else{this.hd=!1;var r=_(this.rd);this.pd(r.x+(e-this.sd.x),r.y+(n-this.sd.y))}}},i.prototype.pv=function(t){0===this.M_().W().trackingMode.exitMode&&(this.hd=!0),this.Dd(),this.Nd(t)},i.prototype.$h=function(t,e){var n=this.ud;if(null===n)return null;for(var r=0,o=n.oa();r<o.length;r++){var s=o[r],l=this.Ad(s.tn(n),t,e);if(null!==l)return{kf:s,i_:l.i_,yd:l.yd}}return null},i.prototype.Bd=function(t,e){_("left"===e?this.X_:this.Z_).P_(new R(t,this.o_.Ot))},i.prototype.Ld=function(){return this.o_},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},i.prototype.Ed=function(){var t=_(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var e=0,n=t.Ge();e<n.length;e++){var r=n[e];if(t.lh(r)){var o=r.Ct();null!==o&&t.Ha(o),r.hn()}}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.R_=function(t){if(0!==t&&null!==this.ud){if(t>1&&this.Ed(),null!==this.X_&&this.X_.R_(t),null!==this.Z_&&this.Z_.R_(t),1!==t){var e=U(this.g_.canvas);e.save(),this.j_(e,this.g_.pixelRatio),this.ud&&(this.Fd(e,this.g_.pixelRatio),this.Od(e,this.g_.pixelRatio),this.Vd(e,this.g_.pixelRatio,Oe)),e.restore()}var n=U(this.y_.canvas);n.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(n,this.g_.pixelRatio,bc),this.Pd(n,this.y_.pixelRatio)}},i.prototype.Wd=function(){return this.X_},i.prototype.zd=function(){return this.Z_},i.prototype.od=function(){null!==this.ud&&this.ud.ro().M(this),this.ud=null},i.prototype.j_=function(t,e){var n=this;X(t,e,function(){var r=n.pi(),o=r.Zf(),s=r.Xf();o===s?me(t,0,0,n.o_.Ft,n.o_.Ot,s):Fr(t,0,0,n.o_.Ft,n.o_.Ot,o,s)})},i.prototype.Fd=function(t,e){var n=_(this.ud),r=n.eo().ou().dt(n.Yt(),n.Ht());null!==r&&(t.save(),r.H(t,e,!1),t.restore())},i.prototype.Od=function(t,e){var n=this.pi().Sf();this.Rd(t,e,Oe,yo,n),this.Rd(t,e,Oe,Vi,n)},i.prototype.Pd=function(t,e){this.Rd(t,e,Oe,Vi,this.pi().Tf())},i.prototype.Vd=function(t,e,n){for(var r=_(this.ud).oa(),o=0,s=r;o<s.length;o++){var l=s[o];this.Rd(t,e,n,yo,l)}for(var h=0,u=r;h<u.length;h++)this.Rd(t,e,n,Vi,l=u[h])},i.prototype.Rd=function(t,e,n,r,o){for(var s=_(this.ud),l=n(o,s),h=s.Yt(),u=s.Ht(),c=s.jt().gf(),d=null!==c&&c.kf===o,f=null!==c&&d&&void 0!==c.yd?c.yd.Kh:void 0,p=0,m=l;p<m.length;p++){var g=m[p].dt(h,u);null!==g&&(t.save(),r(g,t,e,d,f),t.restore())}},i.prototype.Ad=function(t,e,n){for(var r=0,o=t;r<o.length;r++){var s=o[r],l=s.dt(this.o_.Ot,this.o_.Ft);if(null!==l&&l.$h){var h=l.$h(e,n);if(null!==h)return{i_:s,yd:h}}}return null},i.prototype.Md=function(){if(null!==this.ud){var t=this.ad,e=this.ud.Ya().W().visible,n=this.ud.$a().W().visible;e||null===this.X_||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),n||null===this.Z_||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var r=t.jt().qf();e&&null===this.X_&&(this.X_=new _o(this,t.W().layout,r,"left"),this.fd.appendChild(this.X_.B_())),n&&null===this.Z_&&(this.Z_=new _o(this,t.W().layout,r,"right"),this.vd.appendChild(this.Z_.B_()))}},i.prototype.Id=function(t){return t.Gv&&this.nd||null!==this.sd},i.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},i.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},i.prototype.pd=function(t,e){this.pi().Rf(this.jd(t),this.qd(e),_(this.ud))},i.prototype.Cd=function(){this.pi().If()},i.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},i.prototype.xd=function(t,e){this.sd=t,this.hd=!1,this.pd(e.x,e.y);var n=this.pi().Tf();this.rd={x:n.$t(),y:n.Kt()}},i.prototype.pi=function(){return this.ad.jt()},i.prototype.Ud=function(){var t=this.pi(),e=this.z_(),n=e.ji();t.Qa(e,n),t.Pf(),this.J_=null,this.G_=!1},i.prototype.Nd=function(t){var e=this;if(this.G_){var n=performance.now();if(null!==this.ed&&this.ed.xh(t.Yv,n),null===this.ed||this.ed.cc(n))this.Ud();else{var r=this.pi(),o=r.bt(),s=this.ed,l=function(){if(!s._c()){var h=performance.now(),u=s.cc(h);if(!s._c()){var c=o.Nl();r.Vf(s.fc(h)),c===o.Nl()&&(u=!0,e.ed=null)}u?e.Ud():requestAnimationFrame(l)}};requestAnimationFrame(l)}}},i.prototype.md=function(){this.sd=null},i.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)_(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.ud.ji().wi()&&this.pi().bt().wi()}},i.prototype.kd=function(t){if(null!==this.ud){var e=this.pi();if(!e.bt().wi()){var n=this.ad.W(),r=n.handleScroll,o=n.kineticScroll;if(r.pressedMouseMove&&!t.Gv||(r.horzTouchDrag||r.vertTouchDrag)&&t.Gv){var s=this.ud.ji(),l=performance.now();null!==this.J_||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:l,Yv:t.Yv,$v:t.$v}),null!==this.ed&&this.ed.lc(t.Yv,l),null===this.J_||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(null===this.ed&&(t.Gv&&o.touch||!t.Gv&&o.mouse)&&(this.ed=new _c(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,l)),s.wi()||e.Ja(this.ud,s,t.$v),e.Of(t.Yv),this.G_=!0),this.G_&&(s.wi()||e.Ga(this.ud,s,t.$v),e.Vf(t.Yv))}}}},i.prototype.Td=function(){var t=performance.now(),e=null===this.ed||this.ed.cc(t);null!==this.ed&&(e||this.Ud()),null!==this.ed&&(this.ed.dc(),this.ed=null)},i}(),bo=function(){function i(t,e,n,r,o){var s=this;this.ft=!0,this.o_=new R(0,0),this.d_=function(){return s.R_(3)},this.m_="left"===t,this.cf=n.qf,this.zi=e,this.Hd=r,this.Yd=o,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=ut(this.p_,new R(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return i.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},i.prototype.B_=function(){return this.p_},i.prototype.Ld=function(){return this.o_},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},i.prototype.R_=function(t){if((!(t<3)||this.ft)&&0!==this.o_.Ft&&0!==this.o_.Ot){this.ft=!1;var e=U(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio)}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.Rs=function(t,e){if(this.Hd()){var n=this.o_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var r=Math.floor(this.cf.W().N*e),o=this.m_?Math.round(n*e)-r:0;t.fillRect(o,0,r,r),t.restore()}},i.prototype.j_=function(t,e){var n=this;X(t,e,function(){me(t,0,0,n.o_.Ft,n.o_.Ot,n.Yd())})},i}();function Cc(i,t){return i.Po>t.Po?i:t}var Mc=function(){function i(t){var e=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new R(0,0),this.Zd=new F,this.f_=new gt(5),this.__=!1,this.d_=function(){e.__||e.ad.jt().Wr()},this.b_=function(){e.__||e.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=ut(this.tw,new R(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var n=this.g_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.y_=ut(this.tw,new R(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var r=this.y_.canvas;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new Ei(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return i.prototype.g=function(){this.A_.g(),null!==this.$d&&this.$d.g(),null!==this.Kd&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},i.prototype.B_=function(){return this.Jd},i.prototype.nw=function(){return this.$d},i.prototype.sw=function(){return this.Kd},i.prototype.Tv=function(t){if(!this.Xd){this.Xd=!0;var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Lf(t.Yv)}},i.prototype.Cv=function(t){this.Tv(t)},i.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&t.zf())},i.prototype.bv=function(t){var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Wf(t.Yv)},i.prototype.wv=function(t){this.bv(t)},i.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},i.prototype.pv=function(){this.yv()},i.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},i.prototype.Gc=function(){this.nv()},i.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},i.prototype.Wv=function(){this.K_(0)},i.prototype.Ld=function(){return this.o_},i.prototype.hw=function(){return this.Zd},i.prototype.rw=function(t,e,n){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),null!==this.$d&&this.$d.P_(new R(e,t.Ot)),null!==this.Kd&&this.Kd.P_(new R(n,t.Ot))},i.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},i.prototype.vt=function(){this.ad.jt().bt().au()},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.R_=function(t){if(0!==t){if(1!==t){var e=U(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),null!==this.$d&&this.$d.R_(t),null!==this.Kd&&this.Kd.R_(t)}var n=U(this.y_.canvas),r=this.y_.pixelRatio;n.clearRect(0,0,Math.ceil(this.o_.Ft*r),Math.ceil(this.o_.Ot*r)),this.aw([this.ad.jt().Tf()],n,r)}},i.prototype.j_=function(t,e){var n=this;X(t,e,function(){me(t,0,0,n.o_.Ft,n.o_.Ot,n.ad.jt().Xf())})},i.prototype.Rs=function(t,e){if(this.ad.W().timeScale.borderVisible){t.save(),t.fillStyle=this.ow();var n=Math.max(1,Math.floor(this.uw().N*e));t.fillRect(0,0,Math.ceil(this.o_.Ft*e),n),t.restore()}},i.prototype.q_=function(t,e){var n=this,r=this.ad.jt().bt().au();if(r&&0!==r.length){var o=r.reduce(Cc,r[0]).Po;o>30&&o<50&&(o=30),t.save(),t.strokeStyle=this.ow();var s=this.uw(),l=s.N+s.C+s.O+s.S-s.V;t.textAlign="center",t.fillStyle=this.ow();var h=Math.floor(this.uw().N*e),u=Math.max(1,Math.floor(e)),c=Math.floor(.5*e);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var d=Math.round(s.C*e),f=r.length;f--;){var p=Math.round(r[f].su*e);t.rect(p-c,h,u,d)}t.fill()}t.fillStyle=this.j(),X(t,e,function(){t.font=n.lw();for(var m=0,g=r;m<g.length;m++)if((C=g[m]).Po<o){var v=C.Sl?n.fw(t,C.su,C.yu):C.su;t.fillText(C.yu,v,l)}t.font=n.cw();for(var y=0,w=r;y<w.length;y++){var C;(C=w[y]).Po>=o&&(v=C.Sl?n.fw(t,C.su,C.yu):C.su,t.fillText(C.yu,v,l))}}),t.restore()}},i.prototype.fw=function(t,e,n){var r=this.f_.Qt(t,n),s=Math.floor(e-r/2)+.5;return s<0?e+=Math.abs(0-s):s+r>this.o_.Ft&&(e-=Math.abs(this.o_.Ft-(s+r))),e},i.prototype.aw=function(t,e,n){for(var r=this.uw(),o=0,s=t;o<s.length;o++)for(var l=0,h=s[o].Ti();l<h.length;l++){var u=h[l];e.save(),u.dt().H(e,r,n),e.restore()}},i.prototype.ow=function(){return this.ad.W().timeScale.borderColor},i.prototype.j=function(){return this.zi.textColor},i.prototype.R=function(){return this.zi.fontSize},i.prototype.lw=function(){return ct(this.R(),this.zi.fontFamily)},i.prototype.cw=function(){return ct(this.R(),this.zi.fontFamily,"bold")},i.prototype.uw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new gt});var t=this.k,e=this.lw();if(t.T!==e){var n=this.R();t.S=n,t.T=e,t.O=Math.ceil(n/2.5),t.B=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.R()/5),t.bi.ih()}return this.k},i.prototype.K_=function(t){this.p_.style.cursor=1===t?"ew-resize":"default"},i.prototype.iw=function(){var t=this.ad.jt(),e=t.W();e.leftPriceScale.visible||null===this.$d||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),e.rightPriceScale.visible||null===this.Kd||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var n={qf:this.ad.jt().qf()},r=function(){return e.leftPriceScale.borderVisible&&t.bt().W().borderVisible},o=function(){return t.Xf()};e.leftPriceScale.visible&&null===this.$d&&(this.$d=new bo("left",e,n,r,o),this.Gd.appendChild(this.$d.B_())),e.rightPriceScale.visible&&null===this.Kd&&(this.Kd=new bo("right",e,n,r,o),this.Qd.appendChild(this.Kd.B_()))},i}(),Sc=function(){function i(t,e){var n;this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new F,this.af=new F,this.zi=e,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(n=this.Jd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new vc(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new Mc(this),this.pw.appendChild(this.Nw.B_());var r=this.zi.width,o=this.zi.height;if(0===r||0===o){var s=t.getBoundingClientRect();0===r&&(r=Math.floor(s.width),r-=r%2),0===o&&(o=Math.floor(s.height),o-=o%2)}this.xw(r,o),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return i.prototype.jt=function(){return this.pi},i.prototype.W=function(){return this.zi},i.prototype.Tw=function(){return this._w},i.prototype.Dw=function(){return this.Nw},i.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),0!==this.dw&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,e=this._w;t<e.length;t++){var n=e[t];this.pw.removeChild(n.B_()),n.Sd().M(this),n.g()}this._w=[],_(this.Nw).g(),null!==this.Jd.parentElement&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},i.prototype.xw=function(t,e,n){if(void 0===n&&(n=!1),this.xu!==e||this.hh!==t){this.xu=e,this.hh=t;var r=e+"px",o=t+"px";_(this.Jd).style.height=r,_(this.Jd).style.width=o,this.pw.style.height=r,this.pw.style.width=o,n?this.Aw(new H(3)):this.pi.Ce()}},i.prototype.R_=function(t){void 0===t&&(t=new H(3));for(var e=0;e<this._w.length;e++)this._w[e].R_(t.wn(e).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},i.prototype.Pr=function(t){this.pi.Pr(t),this.Sw(),this.xw(t.width||this.hh,t.height||this.xu)},i.prototype.Sd=function(){return this.Q_},i.prototype.Df=function(){return this.af},i.prototype.Bw=function(){var t=this;null!==this.bw&&(this.Aw(this.bw),this.bw=null);var e=this._w[0],n=po(document,new R(this.hh,this.xu)),r=U(n),o=Se(n);return X(r,o,function(){var s=0,l=0,h=function(g){for(var v=0;v<t._w.length;v++){var y=t._w[v],w=y.Ld().Ot,C=_("left"===g?y.Wd():y.zd()),E=C.Y_();r.drawImage(E,s,l,C.W_(),w),l+=w}};t.Lw()&&(h("left"),s=_(e.Wd()).W_()),l=0;for(var u=0;u<t._w.length;u++){var c=t._w[u],d=c.Ld(),f=c.Y_();r.drawImage(f,s,l,d.Ft,d.Ot),l+=d.Ot}s+=e.Ld().Ft,t.Ew()&&(l=0,h("right"));var p=function(g){var v=_("left"===g?t.Nw.nw():t.Nw.sw()),y=v.Ld(),w=v.Y_();r.drawImage(w,s,l,y.Ft,y.Ot)};if(t.zi.timeScale.visible){s=0,t.Lw()&&(p("left"),s=_(e.Wd()).W_());var m=t.Nw.Ld();f=t.Nw.Y_(),r.drawImage(f,s,l,m.Ft,m.Ot),t.Ew()&&(s+=e.Ld().Ft,p("right"),r.restore())}}),n},i.prototype.Fw=function(t){return"none"===t||"left"===t&&!this.Lw()||"right"===t&&!this.Ew()||0===this._w.length?0:_("left"===t?this._w[0].Wd():this._w[0].zd()).W_()},i.prototype.Ow=function(){for(var t=0,e=0,n=0,r=0,o=this._w;r<o.length;r++){var s=o[r];this.Lw()&&(e=Math.max(e,_(s.Wd()).O_())),this.Ew()&&(n=Math.max(n,_(s.zd()).O_())),t+=s.Wa()}var h=this.xu,u=Math.max(this.hh-e-n,0),c=this.zi.timeScale.visible,d=c?this.Nw.ew():0;d%2&&(d+=1);for(var f=0+d,p=h<f?0:h-f,m=p/t,g=0,v=0;v<this._w.length;++v){var y,w;(s=this._w[v]).wd(this.pi.Cf()[v]),w=v===this._w.length-1?p-g:Math.round(s.Wa()*m),g+=y=Math.max(w,2),s.P_(new R(u,y)),this.Lw()&&s.Bd(e,"left"),this.Ew()&&s.Bd(n,"right"),s.z_()&&this.pi.Af(s.z_(),y)}this.Nw.rw(new R(c?u:0,d),c?e:0,c?n:0),this.pi.Ra(u),this.ww!==e&&(this.ww=e),this.Mw!==n&&(this.Mw=n)},i.prototype.yw=function(t){var e=t.deltaX/100,n=-t.deltaY/100;if(0!==e&&this.zi.handleScroll.mouseWheel||0!==n&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,n*=120;break;case t.DOM_DELTA_LINE:e*=32,n*=32}if(0!==n&&this.zi.handleScale.mouseWheel){var r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(o,r)}0!==e&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*e)}},i.prototype.Aw=function(t){var e,n=t.dn();3===n&&this.Vw(),3!==n&&2!==n||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach(function(r){r.bd()}),3===(null===(e=this.bw)||void 0===e?void 0:e.dn())&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},i.prototype.Ww=function(t){for(var e=0,n=t.kn();e<n.length;e++)this.xn(n[e])},i.prototype.Pw=function(t){for(var e=this.pi.Cf(),n=0;n<e.length;n++)t.wn(n)._n&&e[n].so()},i.prototype.xn=function(t){var e=this.pi.bt();switch(t.bn){case 0:e.zl();break;case 1:e.Rl(t.St);break;case 2:e.gn(t.St);break;case 3:e.yn(t.St);break;case 4:e.Tl()}},i.prototype.ff=function(t){var e=this;null!==this.bw?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame(function(){if(e.mw=!1,e.dw=0,null!==e.bw){var n=e.bw;e.bw=null,e.Aw(n)}}))},i.prototype.Vw=function(){this.Cw()},i.prototype.Cw=function(){for(var t=this.pi.Cf(),e=t.length,n=this._w.length,r=e;r<n;r++){var o=z(this._w.pop());this.pw.removeChild(o.B_()),o.Sd().M(this),o.g()}for(r=n;r<e;r++)(o=new wc(this,t[r])).Sd().u(this.zw.bind(this),this),this._w.push(o),this.pw.insertBefore(o.B_(),this.Nw.B_());for(r=0;r<e;r++){var s=t[r];(o=this._w[r]).z_()!==s?o.wd(s):o.dd()}this.Sw(),this.Ow()},i.prototype.Rw=function(t,e){var n,r=new Map;if(null!==t&&this.pi._t().forEach(function(u){var c=u.er(t);null!==c&&r.set(u,c)}),null!==t){var o=this.pi.bt().gi(t);null!==o&&(n=o)}var s=this.jt().gf();return{rt:n,Iw:e||void 0,jw:null!==s&&s.kf instanceof yi?s.kf:void 0,qw:r,Uw:null!==s&&void 0!==s.yd?s.yd.Zh:void 0}},i.prototype.zw=function(t,e){var n=this;this.Q_.m(function(){return n.Rw(t,e)})},i.prototype.kw=function(t,e){var n=this;this.af.m(function(){return n.Rw(t,e)})},i.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},i.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},i.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},i}();function wo(i,t,e){var n=e.value;return{vs:t,rt:i,St:[n,n,n,n]}}function Co(i,t,e){var n=e.value,r={vs:t,rt:i,St:[n,n,n,n]};return"color"in e&&void 0!==e.color&&(r.A=e.color),r}function Ee(i){return void 0!==i.St}function bt(i){return function(t,e,n){return void 0===(r=n).open&&void 0===r.value?{rt:t,vs:e}:i(t,e,n);var r}}var Dc={Candlestick:bt(function(i,t,e){var n={vs:t,rt:i,St:[e.open,e.high,e.low,e.close]};return"color"in e&&void 0!==e.color&&(n.A=e.color),"borderColor"in e&&void 0!==e.borderColor&&(n.Tt=e.borderColor),"wickColor"in e&&void 0!==e.wickColor&&(n.qs=e.wickColor),n}),Bar:bt(function(i,t,e){var n={vs:t,rt:i,St:[e.open,e.high,e.low,e.close]};return"color"in e&&void 0!==e.color&&(n.A=e.color),n}),Area:bt(wo),Baseline:bt(wo),Histogram:bt(Co),Line:bt(Co)};function Mo(i){return Dc[i]}function ke(i){return 60*i*60*1e3}function Fi(i){return 60*i*1e3}var Ve=[{Hw:1e3,Po:10},{Hw:Fi(1),Po:20},{Hw:Fi(5),Po:21},{Hw:Fi(30),Po:22},{Hw:ke(1),Po:30},{Hw:ke(3),Po:31},{Hw:ke(6),Po:32},{Hw:ke(12),Po:33}];function Do(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(var e=Ve.length-1;e>=0;--e)if(Math.floor(t.getTime()/Ve[e].Hw)!==Math.floor(i.getTime()/Ve[e].Hw))return Ve[e].Po;return 0}function xo(i,t){if(void 0===t&&(t=0),0!==i.length){for(var e=0===t?null:i[t-1].rt.So,n=null!==e?new Date(1e3*e):null,r=0,o=t;o<i.length;++o){var s=i[o],l=new Date(1e3*s.rt.So);null!==n&&(s.Vo=Do(l,n)),r+=s.rt.So-(e||s.rt.So),e=s.rt.So,n=l}if(0===t&&i.length>1){var h=Math.ceil(r/(i.length-1)),u=new Date(1e3*(i[0].rt.So-h));i[0].Vo=Do(new Date(1e3*i[0].rt.So),u)}}}function Ai(i){if(!Si(i))throw new Error("time must be of type BusinessDay");var t=new Date(Date.UTC(i.year,i.month-1,i.day,0,0,0,0));return{So:Math.round(t.getTime()/1e3),Co:i}}function Oo(i){if(!fo(i))throw new Error("time must be of type isUTCTimestamp");return{So:i}}function Eo(i){return 0===i.length?null:Si(i[0].time)?Ai:Oo}function Fe(i){return fo(i)?Oo(i):Si(i)?Ai(i):Ai(ko(i))}function ko(i){var t=new Date(i);if(isNaN(t.getTime()))throw new Error("Invalid date string=".concat(i,", expected format=yyyy-mm-dd"));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Vo(i){hi(i.time)&&(i.time=ko(i.time))}function Fo(i){return{vs:0,Yw:new Map,Ve:i}}function Ao(i){if(void 0!==i&&0!==i.length)return{$w:i[0].rt.So,Kw:i[i.length-1].rt.So}}var xc=function(){function i(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return i.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},i.prototype.Qw=function(t,e){var n=this,r=0!==this.Xw.size,o=!1,s=this.Zw.get(t);if(void 0!==s)if(1===this.Zw.size)r=!1,o=!0,this.Xw.clear();else for(var l=0,h=this.Gw;l<h.length;l++)h[l].pointData.Yw.delete(t)&&(o=!0);var u=[];if(0!==e.length){e.forEach(Vo);var c=_(Eo(e)),d=Mo(t.Rr());u=e.map(function(m){var g=c(m.time),v=n.Xw.get(g.So);void 0===v&&(v=Fo(g),n.Xw.set(g.So,v),o=!0);var y=d(g,v.vs,m);return v.Yw.set(t,y),y})}r&&this.tM(),this.iM(t,u);var f=-1;if(o){var p=[];this.Xw.forEach(function(m){p.push({Vo:0,rt:m.Ve,pointData:m})}),p.sort(function(m,g){return m.rt.So-g.rt.So}),f=this.nM(p)}return this.sM(t,f,function(m,g){var v=Ao(m),y=Ao(g);if(void 0!==v&&void 0!==y)return{Ae:v.Kw>=y.Kw&&v.$w>=y.$w}}(this.Zw.get(t),s))},i.prototype.Yf=function(t){return this.Qw(t,[])},i.prototype.hM=function(t,e){Vo(e);var n=_(Eo([e]))(e.time),r=this.Jw.get(t);if(void 0!==r&&n.So<r.So)throw new Error("Cannot update oldest data, last time=".concat(r.So,", new time=").concat(n.So));var o=this.Xw.get(n.So),s=void 0===o;void 0===o&&(o=Fo(n),this.Xw.set(n.So,o));var l=Mo(t.Rr())(n,o.vs,e);o.Yw.set(t,l),this.rM(t,l);var h={Ae:Ee(l)};if(!s)return this.sM(t,-1,h);var u={Vo:0,rt:o.Ve,pointData:o},c=Nt(this.Gw,u.rt.So,function(f,p){return f.rt.So<p});this.Gw.splice(c,0,u);for(var d=c;d<this.Gw.length;++d)Ri(this.Gw[d].pointData,d);return xo(this.Gw,c),this.sM(t,c,h)},i.prototype.rM=function(t,e){var n=this.Zw.get(t);void 0===n&&this.Zw.set(t,n=[]);var r=0!==n.length?n[n.length-1]:null;null===r||e.rt.So>r.rt.So?Ee(e)&&n.push(e):Ee(e)?n[n.length-1]=e:n.splice(-1,1),this.Jw.set(t,e.rt)},i.prototype.iM=function(t,e){0!==e.length?(this.Zw.set(t,e.filter(Ee)),this.Jw.set(t,e[e.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},i.prototype.tM=function(){for(var t=0,e=this.Gw;t<e.length;t++){var n=e[t];0===n.pointData.Yw.size&&this.Xw.delete(n.rt.So)}},i.prototype.nM=function(t){for(var e=-1,n=0;n<this.Gw.length&&n<t.length;++n){var r=this.Gw[n],o=t[n];if(r.rt.So!==o.rt.So){e=n;break}o.Vo=r.Vo,Ri(o.pointData,n)}if(-1===e&&this.Gw.length!==t.length&&(e=Math.min(this.Gw.length,t.length)),-1===e)return-1;for(n=e;n<t.length;++n)Ri(t[n].pointData,n);return xo(t,e),this.Gw=t,e},i.prototype.eM=function(){if(0===this.Zw.size)return null;var t=0;return this.Zw.forEach(function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].vs))}),t},i.prototype.sM=function(t,e,n){var r={uM:new Map,bt:{ml:this.eM()}};if(-1!==e)this.Zw.forEach(function(s,l){r.uM.set(l,{ph:s,aM:l===t?n:void 0})}),this.Zw.has(t)||r.uM.set(t,{ph:[],aM:n}),r.bt.oM=this.Gw,r.bt.lM=e;else{var o=this.Zw.get(t);r.uM.set(t,{ph:o||[],aM:n})}return r},i}();function Ri(i,t){i.vs=t,i.Yw.forEach(function(e){e.vs=t})}var Oc={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},Ec=function(){function i(t){this.Lr=t}return i.prototype.applyOptions=function(t){this.Lr.Pr(t)},i.prototype.options=function(){return this.Lr.W()},i.prototype.fM=function(){return this.Lr},i}();function dt(i){var t=i.overlay,e=function(n,r){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(o[s]=n[s]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(n);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]])}return o}(i,["overlay"]);return t&&(e.priceScaleId=""),e}var wt=function(){function i(t,e,n){this.Kn=t,this.cM=e,this.vM=n}return i.prototype.priceFormatter=function(){return this.Kn.qe()},i.prototype.priceToCoordinate=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().xt(t,e.St)},i.prototype.coordinateToPrice=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().qi(t,e.St)},i.prototype.barsInLogicalRange=function(t){if(null===t)return null;var e=new Me(new Wt(t.from,t.to)).jo(),n=this.Kn.an();if(n.wi())return null;var r=n.ne(e.In(),1),o=n.ne(e.jn(),-1),s=_(n.Qr()),l=_(n.un());if(null!==r&&null!==o&&r.vs>o.vs)return{barsBefore:t.from-s,barsAfter:l-t.to};var h={barsBefore:null===r||r.vs===s?t.from-s:r.vs-s,barsAfter:null===o||o.vs===l?l-t.to:l-o.vs};return null!==r&&null!==o&&(h.from=r.rt.Co||r.rt.So,h.to=o.rt.Co||o.rt.So),h},i.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},i.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},i.prototype.setMarkers=function(t){var e=t.map(function(n){return D(D({},n),{time:Fe(n.time)})});this.Kn.Le(e)},i.prototype.applyOptions=function(t){var e=dt(t);this.Kn.Pr(e)},i.prototype.options=function(){return N(this.Kn.W())},i.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},i.prototype.createPriceLine=function(t){var e=A(N(Oc),t),n=this.Kn.Ee(e);return new Ec(n)},i.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},i.prototype.seriesType=function(){return this.Kn.Rr()},i}(),kc=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return S(t,i),t.prototype.applyOptions=function(e){uo(e),i.prototype.applyOptions.call(this,e)},t}(wt),Pi={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},Vc={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ui,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Ro={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:ui},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:D({},Pi),leftPriceScale:D(D({},Pi),{visible:!1}),rightPriceScale:D(D({},Pi),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:Vc,localization:{locale:De?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},Fc={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Ac={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Rc={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Pc={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Bc={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Tc={color:"#26a69a",base:0},Ct={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Lc=function(){function i(t,e){this.wM=t,this.MM=e}return i.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},i.prototype.options=function(){return this._i().W()},i.prototype.width=function(){return ge(this.MM)?this.wM.Fw("left"===this.MM?"left":"right"):0},i.prototype._i=function(){return _(this.wM.jt().xf(this.MM)).Ct},i}(),Nc=function(){function i(t,e){this.bM=new F,this.Go=new F,this.Zd=new F,this.pi=t,this.Da=t.bt(),this.Nw=e,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return i.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},i.prototype.scrollPosition=function(){return this.Da.Nl()},i.prototype.scrollToPosition=function(t,e){e?this.Da.Fl(t,1e3):this.pi.yn(t)},i.prototype.scrollToRealTime=function(){this.Da.El()},i.prototype.getVisibleRange=function(){var t,e,n=this.Da.cl();return null===n?null:{from:null!==(t=n.from.Co)&&void 0!==t?t:n.from.So,to:null!==(e=n.to.Co)&&void 0!==e?e:n.to.So}},i.prototype.setVisibleRange=function(t){var e={from:Fe(t.from),to:Fe(t.to)},n=this.Da.wl(e);this.pi.$f(n)},i.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return null===t?null:{from:t.In(),to:t.jn()}},i.prototype.setVisibleLogicalRange=function(t){mt(t.from<=t.to,"The from index cannot be after the to index."),this.pi.$f(t)},i.prototype.resetTimeScale=function(){this.pi.pn()},i.prototype.fitContent=function(){this.pi.zl()},i.prototype.logicalToCoordinate=function(t){var e=this.pi.bt();return e.wi()?null:e.At(t)},i.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},i.prototype.timeToCoordinate=function(t){var e=Fe(t),n=this.Da.Ze(e,!1);return null===n?null:this.Da.At(n)},i.prototype.coordinateToTime=function(t){var e,n=this.pi.bt(),r=n.pl(t),o=n.gi(r);return null===o?null:null!==(e=o.Co)&&void 0!==e?e:o.So},i.prototype.width=function(){return this.Nw.Ld().Ft},i.prototype.height=function(){return this.Nw.Ld().Ot},i.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},i.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},i.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},i.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},i.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},i.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},i.prototype.applyOptions=function(t){this.Da.Pr(t)},i.prototype.options=function(){return N(this.Da.W())},i.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},i.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},i.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},i}();function Mt(i){void 0!==i&&"custom"!==i.type&&void 0!==i.minMove&&void 0===i.precision&&(i.precision=function(e){if(e>=1)return 0;for(var n=0;n<8;n++){var r=Math.round(e);if(Math.abs(r-e)<1e-8)return n;e*=10}return n}(i.minMove))}function Po(i){return function(t){if(ci(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:e,axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale&&ci(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var r=t.handleScroll;ci(r)&&(t.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(i),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var e=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=A(t.leftPriceScale,t.priceScale),t.rightPriceScale=A(t.rightPriceScale,t.priceScale),"left"===e&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),"right"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),"none"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},void 0!==t.priceScale.invertScale&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),void 0!==t.priceScale.scaleMargins&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(i),(t=i).layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor}),i;var t}var Ic=function(){function i(t,e){var n=this;this.yM=new xc,this.kM=new Map,this.NM=new Map,this.xM=new F,this.CM=new F;var r=void 0===e?N(Ro):A(N(Ro),Po(e));this.wM=new Sc(t,r),this.wM.Sd().u(function(s){n.xM.p()&&n.xM.m(n.SM(s()))},this),this.wM.Df().u(function(s){n.CM.p()&&n.CM.m(n.SM(s()))},this);var o=this.wM.jt();this.TM=new Nc(o,this.wM.Dw())}return i.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},i.prototype.resize=function(t,e,n){this.wM.xw(t,e,n)},i.prototype.addAreaSeries=function(t){void 0===t&&(t={}),Mt((t=dt(t)).priceFormat);var e=A(N(Ct),Pc,t),n=this.wM.jt().Uf("Area",e),r=new wt(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.addBaselineSeries=function(t){void 0===t&&(t={}),Mt((t=dt(t)).priceFormat);var e=A(N(Ct),N(Bc),t),n=this.wM.jt().Uf("Baseline",e),r=new wt(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.addBarSeries=function(t){void 0===t&&(t={}),Mt((t=dt(t)).priceFormat);var e=A(N(Ct),Ac,t),n=this.wM.jt().Uf("Bar",e),r=new wt(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),uo(t=dt(t)),Mt(t.priceFormat);var e=A(N(Ct),Fc,t),n=this.wM.jt().Uf("Candlestick",e),r=new kc(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),Mt((t=dt(t)).priceFormat);var e=A(N(Ct),Tc,t),n=this.wM.jt().Uf("Histogram",e),r=new wt(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.addLineSeries=function(t){void 0===t&&(t={}),Mt((t=dt(t)).priceFormat);var e=A(N(Ct),Rc,t),n=this.wM.jt().Uf("Line",e),r=new wt(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},i.prototype.removeSeries=function(t){var e=z(this.kM.get(t)),n=this.yM.Yf(e);this.wM.jt().Yf(e),this.DM(n),this.kM.delete(t),this.NM.delete(e)},i.prototype._M=function(t,e){this.DM(this.yM.Qw(t,e))},i.prototype.dM=function(t,e){this.DM(this.yM.hM(t,e))},i.prototype.subscribeClick=function(t){this.xM.u(t)},i.prototype.unsubscribeClick=function(t){this.xM._(t)},i.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},i.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},i.prototype.priceScale=function(t){return void 0===t&&(t=this.wM.jt().Kf()),new Lc(this.wM,t)},i.prototype.timeScale=function(){return this.TM},i.prototype.applyOptions=function(t){this.wM.Pr(Po(t))},i.prototype.options=function(){return this.wM.W()},i.prototype.takeScreenshot=function(){return this.wM.Bw()},i.prototype.DM=function(t){var e=this.wM.jt();e.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach(function(n,r){return r.Z(n.ph,n.aM)}),e.yl()},i.prototype.AM=function(t){return z(this.NM.get(t))},i.prototype.SM=function(t){var e=this,n=new Map;t.qw.forEach(function(o,s){n.set(e.AM(s),o)});var r=void 0===t.jw?void 0:this.AM(t.jw);return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:r,hoveredMarkerId:t.Uw,seriesPrices:n}},i}(),Gc=b(5830);let Hc=(()=>{class i{constructor(e,n){this.route=e,this.apiService=n,this.interval$=new Hl.t(1),this.destroy$=new B.x}ngOnInit(){this.createChart(),this.setChart()}ngOnChanges(e){e.interval&&this.interval$.next(e.interval.currentValue)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}kLine(e,n){return this.apiService.getKLines$(e,n).pipe((0,Yl.b)(r=>console.log(r)),(0,kt.U)(r=>r.map(o=>{const[s,l,h,u,c]=o;return{time:s/1e3,open:l,high:h,low:u,close:c}})))}createChart(){this.chart=function zc(i,t){var e;if(hi(i)){var n=document.getElementById(i);mt(null!==n,"Cannot find element in DOM with id=".concat(i)),e=n}else e=i;return new Ic(e,t)}("container",{layout:{textColor:"black",background:{type:Mi.Solid,color:"white"}}}),this.series=this.chart.addCandlestickSeries({upColor:"#ef5350",downColor:"#26a69a",borderVisible:!1,wickUpColor:"#ef5350",wickDownColor:"#26a69a"})}setChart(){this.route.params.pipe((0,kt.U)(e=>e.symbol),Zl(this.interval$),(0,$t.h)(([e,n])=>!!e&&!!n),(0,ai.w)(([e,n])=>this.kLine(e,n)),(0,I.R)(this.destroy$)).subscribe(e=>{this.series.setData(e),this.series.priceScale().applyOptions({autoScale:!1,scaleMargins:{top:.1,bottom:.1}}),this.chart.timeScale().fitContent()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Ii.gz),a.Y36(Gc.s))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-chart"]],inputs:{interval:"interval"},features:[a.TTD],decls:1,vars:0,consts:[["id","container"]],template:function(e,n){1&e&&a._UZ(0,"div",0)},styles:["#container[_ngcontent-%COMP%]{width:100%;height:60vh}"]}),i})();function Yc(i,t){if(1&i&&(a.TgZ(0,"mat-option",3),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.Q6J("value",e.code),a.xp6(1),a.Oqu(e.title)}}const Wc=[{path:"",component:(()=>{class i{constructor(){this.intervals=Io,this.selected="1d"}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-drill-down"]],decls:6,vars:3,consts:[[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"interval"],[3,"value"]],template:function(e,n){1&e&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Interval"),a.qZA(),a.TgZ(3,"mat-select",0),a.NdJ("valueChange",function(o){return n.selected=o}),a.YNc(4,Yc,2,2,"mat-option",1),a.qZA()(),a._UZ(5,"app-chart",2)),2&e&&(a.xp6(3),a.Q6J("value",n.selected),a.xp6(1),a.Q6J("ngForOf",n.intervals),a.xp6(1),a.Q6J("interval",n.selected))},dependencies:[x.sg,Ms,Te,zl,k.ey,Hc]}),i})()}];let jc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[x.ez,Gl,Ii.Bz.forChild(Wc)]}),i})()}}]);